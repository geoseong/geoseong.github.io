{"pageContext":{"isCreatedByStatefulCreatePages":false,"notebook":"Database","section":"MySQL","page":{"id":"0-000c1be1cecd3f0f33bb25d10d524430!1-BC575AB8E2AB9833!2164","self":"https://www.onenote.com/api/v1.0/me/notes/pages/0-000c1be1cecd3f0f33bb25d10d524430!1-BC575AB8E2AB9833!2164","createdTime":"2018-05-10T05:12:21.412Z","title":"Node.js<->Mysql : \"TypeError: Data must be a string or a buffer\"","createdByAppId":"","links":{"oneNoteEmbedUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2160&parId=BC575AB8E2AB9833!109&wd=target%28MySQL.one%7C4f9f1f0f-c5af-1b45-8574-b8f105c2e0e8%2FNode.js%3C-%3EMysql%20%20%22TypeError%7Ce40d6b15-5dbc-6c45-ae0f-a4ee9ec06831%2F%29"},"oneNoteClientUrl":{"href":"onenote:https://d.docs.live.net/bc575ab8e2ab9833/Documents/Database/MySQL.one#Node.js%3C-%3EMysql%20%20%22TypeError&section-id=4f9f1f0f-c5af-1b45-8574-b8f105c2e0e8&page-id=e40d6b15-5dbc-6c45-ae0f-a4ee9ec06831&end"},"oneNoteWebUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2160&parId=BC575AB8E2AB9833!109&wd=target%28MySQL.one%7C4f9f1f0f-c5af-1b45-8574-b8f105c2e0e8%2FNode.js%3C-%3EMysql%20%20%22TypeError%7Ce40d6b15-5dbc-6c45-ae0f-a4ee9ec06831%2F%29"}},"contentUrl":"https://www.onenote.com/api/v1.0/me/notes/pages/0-000c1be1cecd3f0f33bb25d10d524430!1-BC575AB8E2AB9833!2164/content","lastModifiedTime":"2018-05-10T05:14:55Z","parentSection@odata.context":"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections('0-BC575AB8E2AB9833%212164')/pages('0-000c1be1cecd3f0f33bb25d10d524430%211-BC575AB8E2AB9833%212164')/parentSection(id,name,self)/$entity","parentSection":{"id":"0-BC575AB8E2AB9833!2164","name":"MySQL","self":"https://www.onenote.com/api/v1.0/me/notes/sections/0-BC575AB8E2AB9833!2164"},"content":"       에러메시지               Debug: internal, implementation, error          TypeError: Uncaught error: Data must be a string or a buffer          at Hash.update (crypto.js:99:16)          at sha1 (/Users/geoseong/Documents/IDEASAM/outsource/2018/01_changsoft/dev/server/aws_projhub/node_modules/mysql2/lib/auth_41.js:30:8)          at Object.token [as calculateToken] (/Users/geoseong/Documents/IDEASAM/outsource/2018/01_changsoft/dev/server/aws_projhub/node_modules/mysql2/lib/auth_41.js:64:16)          at new HandshakeResponse (/Users/geoseong/Documents/IDEASAM/outsource/2018/01_changsoft/dev/server/aws_projhub/node_modules/mysql2/lib/packets/handshake_response.js:28:24)          at ClientHandshake.sendCredentials (/Users/geoseong/Documents/IDEASAM/outsource/2018/01_changsoft/dev/server/aws_projhub/node_modules/mysql2/lib/commands/client_handshake.js:51:27)                       원인    mysql.createConnection({ ... });안의 ... 인자 value 중에 string이 아니라 int 타입이 있어서 그러함        조치                return mysql.createConnection({      host: processEnv.LOCAL_RDS_ENDPOINT,      user: processEnv.LOCAL_RDS_ACC_ID,      password: processEnv.LOCAL_RDS_ACC_PW.toString(),      database: processEnv.LOCAL_RDS_DB      });                      ","html":"\n\t\t<div style=\"position:absolute;left:48px;top:187px;width:576px\">\n\t\t\t<h2 style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xB7EC;&#xBA54;&#xC2DC;&#xC9C0;</span></h2>\n\t\t\t<table style=\"border:1px solid;border-collapse:collapse\">\n\t\t\t\t<tbody><tr>\n\t\t\t\t\t<td style=\"background-color:#f2f2f2;border:1px solid\"><p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\">Debug: internal, implementation, error</p>\n\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\">    TypeError: Uncaught error: Data must be a string or a buffer</p>\n\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\">    at Hash.update (crypto.js:99:16)</p>\n\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\">    at sha1 (/Users/geoseong/Documents/IDEASAM/outsource/2018/01_changsoft/dev/server/aws_projhub/node_modules/mysql2/lib/auth_41.js:30:8)</p>\n\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\">    at Object.token [as calculateToken] (/Users/geoseong/Documents/IDEASAM/outsource/2018/01_changsoft/dev/server/aws_projhub/node_modules/mysql2/lib/auth_41.js:64:16)</p>\n\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\">    at new HandshakeResponse (/Users/geoseong/Documents/IDEASAM/outsource/2018/01_changsoft/dev/server/aws_projhub/node_modules/mysql2/lib/packets/handshake_response.js:28:24)</p>\n\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\">    at ClientHandshake.sendCredentials (/Users/geoseong/Documents/IDEASAM/outsource/2018/01_changsoft/dev/server/aws_projhub/node_modules/mysql2/lib/commands/client_handshake.js:51:27)</p>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody></table>\n\t\t\t<br>\n\t\t\t<h2 lang=\"ko-KR\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xC6D0;&#xC778;</span></h2>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\">mysql.createConnection({ ... });<span style=\"font-family:Malgun Gothic\">&#xC548;&#xC758;</span> <span lang=\"en-US\" style=\"font-family:Malgun Gothic\">... &#xC778;&#xC790; value &#xC911;&#xC5D0; string&#xC774; &#xC544;&#xB2C8;&#xB77C; int &#xD0C0;&#xC785;&#xC774; &#xC788;&#xC5B4;&#xC11C; &#xADF8;&#xB7EC;&#xD568;</span></p>\n\t\t\t<br>\n\t\t\t<h2 style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xC870;&#xCE58;</span> </h2>\n\t\t\t<table style=\"border:1px solid;border-collapse:collapse\">\n\t\t\t\t<tbody><tr>\n\t\t\t\t\t<td style=\"background-color:#f2f2f2;border:1px solid\"><p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Menlo;font-size:9pt;color:#c586c0\">return</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\"> </span><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">mysql</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\">.</span><span style=\"font-family:Menlo;font-size:9pt;color:#989875\">createConnection</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\">({</span></p>\n\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">host:</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\"> </span><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">processEnv</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\">.</span><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">LOCAL_RDS_ENDPOINT</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\">,</span></p>\n\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">user:</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\"> </span><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">processEnv</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\">.</span><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">LOCAL_RDS_ACC_ID</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\">,</span></p>\n\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">password:</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\"> </span><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">processEnv</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\">.</span><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">LOCAL_RDS_ACC_PW</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic;font-size:14pt;color:#0432ff;font-weight:bold\">.toString()</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\">,</span></p>\n\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">database:</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\"> </span><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">processEnv</span><span style=\"font-family:Menlo;font-size:9pt;color:#979797\">.</span><span style=\"font-family:Menlo;font-size:9pt;color:#72a1ba\">LOCAL_RDS_DB</span></p>\n\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Menlo;font-size:9pt;color:#979797\">});</span></p>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t</tbody></table>\n\t\t</div>\n\t\n\n"}}}