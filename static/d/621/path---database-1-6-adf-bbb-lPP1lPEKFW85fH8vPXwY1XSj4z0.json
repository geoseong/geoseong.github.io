{"pageContext":{"isCreatedByStatefulCreatePages":false,"notebook":"Database","section":"mongoDB","page":{"id":"0-b0ae845748b2a34f82cb176a2cc99d28!1-BC575AB8E2AB9833!2166","self":"https://www.onenote.com/api/v1.0/me/notes/pages/0-b0ae845748b2a34f82cb176a2cc99d28!1-BC575AB8E2AB9833!2166","createdTime":"2017-08-21T05:05:12.041Z","title":"서비스시작(에러모음)","createdByAppId":"","links":{"oneNoteEmbedUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2160&parId=BC575AB8E2AB9833!109&wd=target%28mongoDB.one%7C274f6f60-9b2c-084b-8214-51539d991fda%2F%EC%84%9C%EB%B9%84%EC%8A%A4%EC%8B%9C%EC%9E%91%28%EC%97%90%EB%9F%AC%EB%AA%A8%EC%9D%8C%5C%29%7Cc78a3ef4-c9eb-eb4c-a11a-b5909dd0137b%2F%29"},"oneNoteClientUrl":{"href":"onenote:https://d.docs.live.net/bc575ab8e2ab9833/Documents/Database/mongoDB.one#%EC%84%9C%EB%B9%84%EC%8A%A4%EC%8B%9C%EC%9E%91%28%EC%97%90%EB%9F%AC%EB%AA%A8%EC%9D%8C%29&section-id=274f6f60-9b2c-084b-8214-51539d991fda&page-id=c78a3ef4-c9eb-eb4c-a11a-b5909dd0137b&end"},"oneNoteWebUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2160&parId=BC575AB8E2AB9833!109&wd=target%28mongoDB.one%7C274f6f60-9b2c-084b-8214-51539d991fda%2F%EC%84%9C%EB%B9%84%EC%8A%A4%EC%8B%9C%EC%9E%91%28%EC%97%90%EB%9F%AC%EB%AA%A8%EC%9D%8C%5C%29%7Cc78a3ef4-c9eb-eb4c-a11a-b5909dd0137b%2F%29"}},"contentUrl":"https://www.onenote.com/api/v1.0/me/notes/pages/0-b0ae845748b2a34f82cb176a2cc99d28!1-BC575AB8E2AB9833!2166/content","lastModifiedTime":"2018-01-18T05:22:55Z","parentSection@odata.context":"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections('0-BC575AB8E2AB9833%212166')/pages('0-b0ae845748b2a34f82cb176a2cc99d28%211-BC575AB8E2AB9833%212166')/parentSection(id,name,self)/$entity","parentSection":{"id":"0-BC575AB8E2AB9833!2166","name":"mongoDB","self":"https://www.onenote.com/api/v1.0/me/notes/sections/0-BC575AB8E2AB9833!2166"},"content":"       잘되는 줄 알았던 mongoDB 서비스 시작    mongo localhost -u \"admin\" -p \"1234\" --authenticationDatabase \"admin\"    mongo --port 27017 --host localhost -u \"admin\" -p \"1234\" --authenticationDatabase \"admin\"    (--host는 127.0.0.1도 되고 localhost도 됨)    TaeSeongui-MacBook-Air:~ taeseongpark$ mongo --port 27017 --host localhost -u \"admin\" -p \"1234\" --authenticationDatabase \"admin\"    MongoDB shell version v3.4.4    connecting to: mongodb://localhost:27017/    MongoDB server version: 3.4.4        실패모음집    Try1)     mongo shell    mongo localhost -u \"admin\" -p \"1234\" --authenticationDatabase \"admin\"    mongod shell    [conn20] SCRAM-SHA-1 authentication failed for  admin on test from client 127.0.0.1:49888 ; UserNotFound: Could not find user  admin@test        Try2)     mongo shell    mongo localhost -u \"admin\" -p \"1234\" --authenticationDatabase \"admin\"    TaeSeongui-MacBook-Air:etc taeseongpark$ mongo localhost -u \"admin\" -p \"1234\" --authenticationDatabase \"admin\"MongoDB shell version v3.4.4    connecting to: mongodb://127.0.0.1:27017/localhost    MongoDB server version: 3.4.4    2017-08-21T14:06:16.581+0900 E QUERY    [thread1] Error: Authentication failed. :    mongod shell    [conn9] SCRAM-SHA-1 authentication failed for  admin on localhost from client 127.0.0.1:50148 ; UserNotFound: Could not find user  admin@localhost        Try3)     mongo shell    mongo -u admin -p 1234 --authenticationDatabase admin    mongod shell    [conn10] SCRAM-SHA-1 authentication failed for  admin on test from client 127.0.0.1:50178 ; UserNotFound: Could not find user  admin@test        Try4) mongo shell(admin-> 성공)    mongo localhost -u admin -p 1234 --authenticationDatabase admin --authenticationMechanism SCRAM-SHA-1    mongo -u admin -p 1234 --authenticationDatabase admin --authenticationMechanism SCRAM-SHA-1    mongo -u admin -p 1234 --authenticationDatabase admin    mongo --port 27017 -u admin -p 1234 --authenticationDatabase admin (v)        > db.stats()    {    \"ok\" : 0,    \"errmsg\" : \"not authorized on localhost to execute command { dbstats: 1.0, scale: undefined }\",    \"code\" : 13,    \"codeName\" : \"Unauthorized\"    }               > show users      // Admin DB             {    \"_id\" : \"admin.admin\",    \"user\" : \"admin\",    \"db\" : \"admin\",    \"roles\" : [    {    \"role\" : \"userAdminAnyDatabase\",    \"db\" : \"admin\"    }    ]    }               > show users      // Smartbed DB             {    \"_id\" : \"smartbed.smartbed\",    \"user\" : \"smartbed\",    \"db\" : \"smartbed\",    \"roles\" : [    {    \"role\" : \"readWrite\",    \"db\" : \"smartbed\"    }    ]    }        mongod shell    2017-08-21T14:15:11.219+0900 I ACCESS   [conn14] Successfully authenticated as principal admin on admin    2017-08-21T14:15:11.220+0900 I ACCESS   [conn14] Unauthorized: not authorized on admin to execute command { getLog: \"startupWarnings\" }    2017-08-21T14:15:11.228+0900 I ACCESS   [conn14] Unauthorized: not authorized on admin to execute command { replSetGetStatus: 1.0, forShell: 1.0 }        listCollection 가능케 하는 Role은 readWrite : mongo shell    > db.grantRolesToUser(\"admin\",[\"readWrite\"])    > show users    {    \"_id\" : \"admin.admin\",    \"user\" : \"admin\",    \"db\" : \"admin\",    \"roles\" : [    {    \"role\" : \"readWrite\",    \"db\" : \"admin\"    },    {    \"role\" : \"userAdminAnyDatabase\",    \"db\" : \"admin\"    }    ]    }    > show collections    system.users    system.version            Try5) mongo shell(smartbed)    mongo --port 27017 -u smartbed -p ideasam --authenticationDatabase smartbed    > show dbs    2017-08-21T14:29:29.830+0900 E QUERY    [thread1] Error: listDatabases failed:{    \"ok\" : 0,    \"errmsg\" : \"not authorized on admin to execute command { listDatabases: 1.0 }\",    \"code\" : 13,    \"codeName\" : \"Unauthorized\"    } :        > db.stats()    {    \"ok\" : 0,    \"errmsg\" : \"not authorized on localhost to execute command { dbstats: 1.0, scale: undefined }\",    \"code\" : 13,    \"codeName\" : \"Unauthorized\"    }       ","html":"\n\t\t<div style=\"position:absolute;left:48px;top:139px;width:576px\">\n\t\t\t<h2 lang=\"en-US\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">&#xC798;&#xB418;&#xB294; <span lang=\"ko-KR\">&#xC904;</span> <span lang=\"ko-KR\">&#xC54C;&#xC558;&#xB358;</span> mongoDB <span lang=\"ko-KR\">&#xC11C;&#xBE44;&#xC2A4;</span> <span lang=\"ko-KR\">&#xC2DC;&#xC791;</span></h2>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:9pt;color:#454545\">mongo localhost </span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">-u</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&#xA0;</span><span style=\"font-size:9pt;color:#454545\">&quot;admin&quot; </span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">-p</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&quot;1234&quot;</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">--authenticationDatabase</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&quot;admin&quot;</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:9pt;color:#454545\">mongo --port 27017 --host localhost </span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">-u</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&#xA0;</span><span style=\"font-size:9pt;color:#454545\">&quot;admin&quot; </span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">-p</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&quot;1234&quot;</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">--authenticationDatabase</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#454545\">&quot;admin&quot;</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:9pt;color:#0070c0;font-weight:bold\">(--host</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#0070c0;font-weight:bold\">&#xB294;</span><span style=\"font-size:9pt;color:#0070c0;font-weight:bold\"> 127.0.0.1</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#0070c0;font-weight:bold\">&#xB3C4;</span><span style=\"font-size:9pt;color:#0070c0;font-weight:bold\"> </span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#0070c0;font-weight:bold\">&#xB418;&#xACE0;</span><span style=\"font-size:9pt;color:#0070c0;font-weight:bold\"> localhost</span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#0070c0;font-weight:bold\">&#xB3C4;</span><span style=\"font-size:9pt;color:#0070c0;font-weight:bold\"> </span><span lang=\"ko-KR\" style=\"font-size:9pt;color:#0070c0;font-weight:bold\">&#xB428;</span><span style=\"font-size:9pt;color:#0070c0;font-weight:bold\">)</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">TaeSeongui-MacBook-Air:~ taeseongpark$ mongo --port 27017 --host localhost -u &quot;admin&quot; -p &quot;1234&quot; --authenticationDatabase &quot;admin&quot;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">MongoDB shell version v3.4.4</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">connecting to: mongodb://localhost:27017/</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">MongoDB server version: 3.4.4</span></p>\n\t\t\t<br>\n\t\t\t<h2 style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">&#xC2E4;&#xD328;&#xBAA8;&#xC74C;&#xC9D1;</h2>\n\t\t\t<h2 lang=\"en-US\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">Try1) </h2>\n\t\t\t<h3 lang=\"en-US\" style=\"font-size:12pt;color:#5b9bd5;margin-top:0pt;margin-bottom:0pt\">mongo shell</h3>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10pt;color:#454545\">mongo localhost </span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">-u</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span style=\"font-size:10pt;color:#454545\">&quot;admin&quot; </span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">-p</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&quot;1234&quot;</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">--authenticationDatabase</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&quot;admin&quot;</span></p>\n\t\t\t<h3 lang=\"en-US\" style=\"font-size:12pt;color:#5b9bd5;margin-top:0pt;margin-bottom:0pt\">mongod shell</h3>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">[conn20] SCRAM-SHA-1 authentication failed for &#xA0;admin on test from client 127.0.0.1:49888 ; UserNotFound: Could not find user &#xA0;admin@test</span></p>\n\t\t\t<br>\n\t\t\t<h2 lang=\"en-US\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">Try2) </h2>\n\t\t\t<h3 lang=\"en-US\" style=\"font-size:12pt;color:#5b9bd5;margin-top:0pt;margin-bottom:0pt\">mongo shell</h3>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10pt;color:#454545\">mongo localhost </span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">-u</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span style=\"font-size:10pt;color:#454545\">&quot;admin&quot; </span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">-p</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&quot;1234&quot;</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">--authenticationDatabase</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&quot;admin&quot;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">TaeSeongui-MacBook-Air:etc taeseongpark$ mongo localhost -u&#xA0;&quot;admin&quot; -p&#xA0;&quot;1234&quot;&#xA0;--authenticationDatabase&#xA0;&quot;admin&quot;MongoDB shell version v3.4.4</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">connecting to: mongodb://127.0.0.1:27017/localhost</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">MongoDB server version: 3.4.4</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">2017-08-21T14:06:16.581+0900 E QUERY&#xA0; &#xA0; [thread1] Error: Authentication failed. :</span></p>\n\t\t\t<h3 lang=\"en-US\" style=\"font-size:12pt;color:#5b9bd5;margin-top:0pt;margin-bottom:0pt\">mongod shell</h3>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">[conn9] SCRAM-SHA-1 authentication failed for &#xA0;admin on localhost from client 127.0.0.1:50148 ; UserNotFound: Could not find user &#xA0;admin@localhost</span></p>\n\t\t\t<br>\n\t\t\t<h2 lang=\"en-US\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">Try3) </h2>\n\t\t\t<h3 lang=\"en-US\" style=\"font-size:12pt;color:#5b9bd5;margin-top:0pt;margin-bottom:0pt\">mongo shell</h3>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10pt;color:#454545\">mongo </span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">-u</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span style=\"font-size:10pt;color:#454545\">admin </span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">-p</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">1234</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">--authenticationDatabase</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">&#xA0;</span><span lang=\"ko-KR\" style=\"font-size:10pt;color:#454545\">admin</span></p>\n\t\t\t<h3 lang=\"en-US\" style=\"font-size:12pt;color:#5b9bd5;margin-top:0pt;margin-bottom:0pt\">mongod shell</h3>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">[conn10] SCRAM-SHA-1 authentication failed for </span><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&#xA0;</span><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">admin on test from client 127.0.0.1:50178 ; UserNotFound: Could not find user </span><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&#xA0;</span><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">admin@test</span></p>\n\t\t\t<br>\n\t\t\t<h2 lang=\"en-US\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-weight:bold\">Try4) mongo shell(admin-&gt; </span><span lang=\"ko-KR\" style=\"font-weight:bold\">&#xC131;&#xACF5;</span><span style=\"font-weight:bold\">)</span></h2>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10pt\">mongo localhost -u admin -p 1234 --authenticationDatabase admin --authenticationMechanism SCRAM-SHA-1</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10pt\">mongo -u admin -p 1234 --authenticationDatabase admin --authenticationMechanism SCRAM-SHA-1</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10pt\">mongo -u admin -p 1234 --authenticationDatabase admin</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10pt;text-decoration:underline\">mongo --port 27017 -u admin -p 1234 --authenticationDatabase admin (v)</span></p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; db.stats()</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;ok&quot; : 0,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;errmsg&quot; : &quot;not authorized on localhost to execute command { dbstats: 1.0, scale: undefined }&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;code&quot; : 13,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;codeName&quot; : &quot;Unauthorized&quot;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<table style=\"border:1px solid;border-collapse:collapse\">\n\t\t\t\t<tbody><tr>\n\t\t\t\t\t<td style=\"border:1px solid\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; show users</span></td>\n\t\t\t\t\t<td style=\"border:1px solid\"><span lang=\"en-US\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">// Admin DB</span></span></td>\n\t\t\t\t</tr>\n\t\t\t</tbody></table>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;_id&quot; : &quot;admin.admin&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;user&quot; : &quot;admin&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;roles&quot; : [</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;role&quot; : &quot;userAdminAnyDatabase&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">]</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<table style=\"border:1px solid;border-collapse:collapse\">\n\t\t\t\t<tbody><tr>\n\t\t\t\t\t<td style=\"border:1px solid\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; show users</span></td>\n\t\t\t\t\t<td style=\"border:1px solid\"><span lang=\"en-US\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">// Smartbed DB</span></span></td>\n\t\t\t\t</tr>\n\t\t\t</tbody></table>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;_id&quot; : &quot;smartbed.smartbed&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;user&quot; : &quot;smartbed&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;smartbed&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;roles&quot; : [</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;role&quot; : &quot;readWrite&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;smartbed&quot;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">]</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<br>\n\t\t\t<h3 lang=\"en-US\" style=\"font-size:12pt;color:#5b9bd5;margin-top:0pt;margin-bottom:0pt\">mongod shell</h3>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">2017-08-21T14:15:11.219+0900 I ACCESS </span><span lang=\"en-US\" style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&#xA0; </span><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">[conn14] Successfully authenticated as principal admin on admin</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">2017-08-21T14:15:11.220+0900 I ACCESS </span><span lang=\"en-US\" style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&#xA0; </span><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">[conn14] Unauthorized: not authorized on admin to execute command { getLog: &quot;startupWarnings&quot; }</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">2017-08-21T14:15:11.228+0900 I ACCESS </span><span lang=\"en-US\" style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&#xA0; </span><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">[conn14] Unauthorized: not authorized on admin to execute command { replSetGetStatus: 1.0, forShell: 1.0 }</span></p>\n\t\t\t<br>\n\t\t\t<h3 lang=\"en-US\" style=\"font-size:12pt;color:#5b9bd5;margin-top:0pt;margin-bottom:0pt\">listCollection &#xAC00;&#xB2A5;&#xCF00; &#xD558;&#xB294; Role&#xC740; <span style=\"font-weight:bold;text-decoration:underline\">readWrite</span> : mongo shell</h3>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; db.grantRolesToUser(&quot;admin&quot;,[&quot;readWrite&quot;])</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; show users</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;_id&quot; : &quot;admin.admin&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;user&quot; : &quot;admin&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;roles&quot; : [</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;role&quot; : &quot;readWrite&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">},</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;role&quot; : &quot;userAdminAnyDatabase&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">]</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; show collections</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">system.users</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">system.version</span></p>\n\t\t\t<br>\n\t\t\t<br>\n\t\t\t<h2 lang=\"en-US\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-weight:bold\">Try5) mongo shell(smartbed)</span></h2>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10pt\">mongo --port 27017 -u smartbed -p ideasam --authenticationDatabase smartbed</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; show dbs</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">2017-08-21T14:29:29.830+0900 E QUERY</span><span lang=\"en-US\" style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&#xA0; &#xA0; </span><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">[thread1] Error: listDatabases failed:{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;ok&quot; : 0,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;errmsg&quot; : &quot;not authorized on admin to execute command { listDatabases: 1.0 }&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;code&quot; : 13,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;codeName&quot; : &quot;Unauthorized&quot;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">} :</span></p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; db.stats()</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;ok&quot; : 0,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;errmsg&quot; : &quot;not authorized on localhost to execute command { dbstats: 1.0, scale: undefined }&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;code&quot; : 13,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;codeName&quot; : &quot;Unauthorized&quot;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t</div>\n\t\n\n"}}}