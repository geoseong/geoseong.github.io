{"pageContext":{"isCreatedByStatefulCreatePages":false,"notebook":"Web Dev","section":"node.js","page":{"id":"0-2f94e5d66275bd0f0e5ffa4889d1ef58!1-BC575AB8E2AB9833!1963","self":"https://www.onenote.com/api/v1.0/me/notes/pages/0-2f94e5d66275bd0f0e5ffa4889d1ef58!1-BC575AB8E2AB9833!1963","createdTime":"2018-05-07T16:57:41.263Z","title":"쿠키사용 : express-session","createdByAppId":"","links":{"oneNoteEmbedUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!1937&parId=BC575AB8E2AB9833!109&wd=target%28node.js.one%7C1ea34b4b-f4ea-b841-ba6b-444db5441a6a%2F%EC%BF%A0%ED%82%A4%EC%82%AC%EC%9A%A9%20%20express-session%7C5e8a0451-916f-4742-a1fd-8f05e402f21e%2F%29"},"oneNoteClientUrl":{"href":"onenote:https://d.docs.live.net/bc575ab8e2ab9833/Documents/Dev/node.js.one#%EC%BF%A0%ED%82%A4%EC%82%AC%EC%9A%A9%20%20express-session&section-id=1ea34b4b-f4ea-b841-ba6b-444db5441a6a&page-id=5e8a0451-916f-4742-a1fd-8f05e402f21e&end"},"oneNoteWebUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!1937&parId=BC575AB8E2AB9833!109&wd=target%28node.js.one%7C1ea34b4b-f4ea-b841-ba6b-444db5441a6a%2F%EC%BF%A0%ED%82%A4%EC%82%AC%EC%9A%A9%20%20express-session%7C5e8a0451-916f-4742-a1fd-8f05e402f21e%2F%29"}},"contentUrl":"https://www.onenote.com/api/v1.0/me/notes/pages/0-2f94e5d66275bd0f0e5ffa4889d1ef58!1-BC575AB8E2AB9833!1963/content","lastModifiedTime":"2018-05-15T07:41:47Z","parentSection@odata.context":"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections('0-BC575AB8E2AB9833%211963')/pages('0-2f94e5d66275bd0f0e5ffa4889d1ef58%211-BC575AB8E2AB9833%211963')/parentSection(id,name,self)/$entity","parentSection":{"id":"0-BC575AB8E2AB9833!1963","name":"node.js","self":"https://www.onenote.com/api/v1.0/me/notes/sections/0-BC575AB8E2AB9833!1963"},"content":"       참고 문서    http://webframeworks.kr/tutorials/expressjs/auth_log_in_out/        세션 삭제 : 쿠키도 같이 삭제해야 한단다    로그인시에 세션을 저장을 했다면, 로그 아웃시에는 세션 삭제가 이루어져야합니다. 세션 정보를 완전히 삭제하려면 세션과 쿠키를 함께 삭제해야 하는데, 쿠키를 삭제하지 않을 경우 쿠기에 저장된 세션 정보로 인해 맞지 않은 세션정보가 호출되는 문제가 때문입니다. 세션을 삭제하기 위해서는, 세션 객체에서 제공하는 destory() 메소드로 세션을 삭제하며, 쿠키는 Response 개체의 clearCookie() 메소드에 세션 생성시 사용한 키값을 파라매터로 전달하여 삭제할 수 있습니다.    exports.logout = function (req, res) {￼  req.session.destory();  // 세션 삭제￼  res.clearCookie(‘sid’); // 세션 쿠키 삭제￼};               ","html":"\n\t\t<div style=\"position:absolute;left:48px;top:139px;width:576px\">\n\t\t\t<h2 lang=\"ko-KR\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xCC38;&#xACE0;</span><span lang=\"en-US\"> </span><span style=\"font-family:Malgun Gothic\">&#xBB38;&#xC11C;</span></h2>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><a href=\"http://webframeworks.kr/tutorials/expressjs/auth_log_in_out/\">http://webframeworks.kr/tutorials/expressjs/auth_log_in_out/</a></p>\n\t\t\t<br>\n\t\t\t<h2 lang=\"ko-KR\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xC138;&#xC158;</span><span lang=\"en-US\"> </span><span style=\"font-family:Malgun Gothic\">&#xC0AD;&#xC81C;</span><span lang=\"en-US\"> : </span><span style=\"font-family:Malgun Gothic\">&#xCFE0;&#xD0A4;&#xB3C4;</span><span lang=\"en-US\"> </span><span style=\"font-family:Malgun Gothic\">&#xAC19;&#xC774;</span><span lang=\"en-US\"> </span><span style=\"font-family:Malgun Gothic\">&#xC0AD;&#xC81C;&#xD574;&#xC57C;</span><span lang=\"en-US\"> </span><span style=\"font-family:Malgun Gothic\">&#xD55C;&#xB2E8;&#xB2E4;</span></h2>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:12pt\"><span style=\"font-family:Malgun Gothic;font-size:10pt;color:#333333\">&#xB85C;&#xADF8;&#xC778;&#xC2DC;&#xC5D0; &#xC138;&#xC158;&#xC744; &#xC800;&#xC7A5;&#xC744; &#xD588;&#xB2E4;&#xBA74;, &#xB85C;&#xADF8; &#xC544;&#xC6C3;&#xC2DC;&#xC5D0;&#xB294; &#xC138;&#xC158; &#xC0AD;&#xC81C;&#xAC00; &#xC774;&#xB8E8;&#xC5B4;&#xC838;&#xC57C;&#xD569;&#xB2C8;&#xB2E4;. &#xC138;&#xC158; &#xC815;&#xBCF4;&#xB97C; &#xC644;&#xC804;&#xD788; &#xC0AD;&#xC81C;&#xD558;&#xB824;&#xBA74; &#xC138;&#xC158;&#xACFC; &#xCFE0;&#xD0A4;&#xB97C; &#xD568;&#xAED8; &#xC0AD;&#xC81C;&#xD574;&#xC57C; &#xD558;&#xB294;&#xB370;, &#xCFE0;&#xD0A4;&#xB97C; &#xC0AD;&#xC81C;&#xD558;&#xC9C0; &#xC54A;&#xC744; &#xACBD;&#xC6B0; &#xCFE0;&#xAE30;&#xC5D0; &#xC800;&#xC7A5;&#xB41C; &#xC138;&#xC158; &#xC815;&#xBCF4;&#xB85C; &#xC778;&#xD574; &#xB9DE;&#xC9C0; &#xC54A;&#xC740; &#xC138;&#xC158;&#xC815;&#xBCF4;&#xAC00; &#xD638;&#xCD9C;&#xB418;&#xB294; &#xBB38;&#xC81C;&#xAC00; &#xB54C;&#xBB38;&#xC785;&#xB2C8;&#xB2E4;. &#xC138;&#xC158;&#xC744; &#xC0AD;&#xC81C;&#xD558;&#xAE30; &#xC704;&#xD574;&#xC11C;&#xB294;, &#xC138;&#xC158; &#xAC1D;&#xCCB4;&#xC5D0;&#xC11C; &#xC81C;&#xACF5;&#xD558;&#xB294; destory() &#xBA54;&#xC18C;&#xB4DC;&#xB85C; &#xC138;&#xC158;&#xC744; &#xC0AD;&#xC81C;&#xD558;&#xBA70;, &#xCFE0;&#xD0A4;&#xB294; Response &#xAC1C;&#xCCB4;&#xC758; clearCookie() &#xBA54;&#xC18C;&#xB4DC;&#xC5D0; &#xC138;&#xC158; &#xC0DD;&#xC131;&#xC2DC; &#xC0AC;&#xC6A9;&#xD55C; &#xD0A4;&#xAC12;&#xC744; &#xD30C;&#xB77C;&#xB9E4;&#xD130;&#xB85C; &#xC804;&#xB2EC;&#xD558;&#xC5EC; &#xC0AD;&#xC81C;&#xD560; &#xC218; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke\">exports.logout </span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke;font-weight:bold\">=</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke\"> </span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke;font-weight:bold\">function</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke\"> (req, res) {</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke\">&#xFFFC;</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke\">  req.session.destory();  </span><span style=\"font-family:Menlo;font-size:9.5pt;color:#8d8d7e;background-color:whitesmoke;font-style:italic\">// </span><span style=\"font-family:Malgun Gothic;font-size:9.5pt;color:#8d8d7e;background-color:whitesmoke;font-style:italic\">&#xC138;&#xC158;</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#8d8d7e;background-color:whitesmoke;font-style:italic\"> </span><span style=\"font-family:Malgun Gothic;font-size:9.5pt;color:#8d8d7e;background-color:whitesmoke;font-style:italic\">&#xC0AD;&#xC81C;</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke\">&#xFFFC;</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke\">  res.clearCookie(</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#a61717;background-color:#e3d2d2\">&#x2018;</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke\">sid</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#a61717;background-color:#e3d2d2\">&#x2019;</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke\">); </span><span style=\"font-family:Menlo;font-size:9.5pt;color:#8d8d7e;background-color:whitesmoke;font-style:italic\">// </span><span style=\"font-family:Malgun Gothic;font-size:9.5pt;color:#8d8d7e;background-color:whitesmoke;font-style:italic\">&#xC138;&#xC158;</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#8d8d7e;background-color:whitesmoke;font-style:italic\"> </span><span style=\"font-family:Malgun Gothic;font-size:9.5pt;color:#8d8d7e;background-color:whitesmoke;font-style:italic\">&#xCFE0;&#xD0A4;</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#8d8d7e;background-color:whitesmoke;font-style:italic\"> </span><span style=\"font-family:Malgun Gothic;font-size:9.5pt;color:#8d8d7e;background-color:whitesmoke;font-style:italic\">&#xC0AD;&#xC81C;</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke\">&#xFFFC;</span><span style=\"font-family:Menlo;font-size:9.5pt;color:#333333;background-color:whitesmoke\">};</span></p>\n\t\t\t<br>\n\t\t\t<br>\n\t\t</div>\n\t\n\n"}}}