{"pageContext":{"isCreatedByStatefulCreatePages":false,"notebook":"Database","section":"mongoDB","page":{"id":"0-105654bfff1c900d0ad539da4d6d200e!1-BC575AB8E2AB9833!2166","self":"https://www.onenote.com/api/v1.0/me/notes/pages/0-105654bfff1c900d0ad539da4d6d200e!1-BC575AB8E2AB9833!2166","createdTime":"2017-08-21T04:37:42Z","title":"mongoDB : not authorized listCollections","createdByAppId":"","links":{"oneNoteEmbedUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2160&parId=BC575AB8E2AB9833!109&wd=target%28mongoDB.one%7C274f6f60-9b2c-084b-8214-51539d991fda%2FmongoDB%20%20not%20authorized%20listCollections%7Cdad232c7-617a-bb4f-8c4f-d98b7e846751%2F%29"},"oneNoteClientUrl":{"href":"onenote:https://d.docs.live.net/bc575ab8e2ab9833/Documents/Database/mongoDB.one#mongoDB%20%20not%20authorized%20listCollections&section-id=274f6f60-9b2c-084b-8214-51539d991fda&page-id=dad232c7-617a-bb4f-8c4f-d98b7e846751&end"},"oneNoteWebUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2160&parId=BC575AB8E2AB9833!109&wd=target%28mongoDB.one%7C274f6f60-9b2c-084b-8214-51539d991fda%2FmongoDB%20%20not%20authorized%20listCollections%7Cdad232c7-617a-bb4f-8c4f-d98b7e846751%2F%29"}},"contentUrl":"https://www.onenote.com/api/v1.0/me/notes/pages/0-105654bfff1c900d0ad539da4d6d200e!1-BC575AB8E2AB9833!2166/content","lastModifiedTime":"2018-05-03T05:50:41Z","parentSection@odata.context":"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections('0-BC575AB8E2AB9833%212166')/pages('0-105654bfff1c900d0ad539da4d6d200e%211-BC575AB8E2AB9833%212166')/parentSection(id,name,self)/$entity","parentSection":{"id":"0-BC575AB8E2AB9833!2166","name":"mongoDB","self":"https://www.onenote.com/api/v1.0/me/notes/sections/0-BC575AB8E2AB9833!2166"},"content":"               mongod shell    [conn12] Unauthorized: not authorized on smartbed to execute command { listCollections: 1, filter: {}, cursor: {} }        해결 : readWrite 권한주면 되는것이었다.    > db.grantRolesToUser(\"admin\",[\"readWrite\"])    > show users    {    \"_id\" : \"admin.admin\",    \"user\" : \"admin\",    \"db\" : \"admin\",    \"roles\" : [    {    \"role\" : \"readWrite\",    \"db\" : \"admin\"    },    {    \"role\" : \"userAdminAnyDatabase\",    \"db\" : \"admin\"    }    ]    }    > show collections    system.users    system.version       ","html":"\n\t\t<div style=\"position:absolute;left:48px;top:137px;width:576px\">\n\t\t\t<img alt=\"g localhost_admin (3) \nSystem \nadmin \nCollections \nFunctions \nUsers \nlocal \nsmartbed \nWelcome \nFailed to refresh Collections&apos;. \nError: \nListCollections failed: { ok: 0.0, errmsg: &quot;not \nauthorized on admin to execute command { \nlistCollections: 1, filter: O, cursor: O \ncode: 13, codeName: &quot;Unauthorized&quot; ) \nOK \" width=\"480\" height=\"166\" src=\"https://www.onenote.com/api/v1.0/me/notes/resources/0-ecb400743c6cc845845093ffca17f8d7!1-BC575AB8E2AB9833!2166/content?publicAuth=true&amp;mimeType=image/png\" data-src-type=\"image/png\" data-fullres-src=\"https://www.onenote.com/api/v1.0/me/notes/resources/0-ecb400743c6cc845845093ffca17f8d7!1-BC575AB8E2AB9833!2166/content?publicAuth=true&amp;mimeType=image/png\" data-fullres-src-type=\"image/png\">\n\t\t\t<br>\n\t\t\t<h2 lang=\"en-US\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">mongod shell</h2>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">[conn12] Unauthorized: not authorized on smartbed to execute command { listCollections: 1, filter: {}, cursor: {} }</span></p>\n\t\t\t<br>\n\t\t\t<h2 style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">&#xD574;&#xACB0;<span lang=\"en-US\"> : readWrite </span><span lang=\"en-US\">&#xAD8C;&#xD55C;&#xC8FC;&#xBA74; &#xB418;&#xB294;&#xAC83;&#xC774;&#xC5C8;&#xB2E4;</span><span lang=\"en-US\">.</span></h2>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; db.grantRolesToUser(&quot;admin&quot;,[&quot;readWrite&quot;])</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; show users</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;_id&quot; : &quot;admin.admin&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;user&quot; : &quot;admin&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;roles&quot; : [</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;role&quot; : &quot;readWrite&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">},</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;role&quot; : &quot;userAdminAnyDatabase&quot;,</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">]</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; show collections</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">system.users</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">system.version</span></p>\n\t\t</div>\n\t\n\n"}}}