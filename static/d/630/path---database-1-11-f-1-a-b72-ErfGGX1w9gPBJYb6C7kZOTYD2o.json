{"pageContext":{"notebook":"Database","section":"mongoDB","page":{"id":"0-16d0034e0bdda94198a6728786f42ea8!1-BC575AB8E2AB9833!2166","self":"https://www.onenote.com/api/v1.0/me/notes/pages/0-16d0034e0bdda94198a6728786f42ea8!1-BC575AB8E2AB9833!2166","createdTime":"2017-08-21T01:02:15.448Z","title":"유저 생성및 설정하기(RAW ver)","createdByAppId":"","links":{"oneNoteEmbedUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2160&parId=BC575AB8E2AB9833!109&wd=target%28mongoDB.one%7C274f6f60-9b2c-084b-8214-51539d991fda%2F%EC%9C%A0%EC%A0%80%20%EC%83%9D%EC%84%B1%EB%B0%8F%20%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0%28RAW%20ver%5C%29%7C92df1167-94fa-1a41-9542-407b98e61858%2F%29"},"oneNoteClientUrl":{"href":"onenote:https://d.docs.live.net/bc575ab8e2ab9833/Documents/Database/mongoDB.one#%EC%9C%A0%EC%A0%80%20%EC%83%9D%EC%84%B1%EB%B0%8F%20%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0%28RAW%20ver%29&section-id=274f6f60-9b2c-084b-8214-51539d991fda&page-id=92df1167-94fa-1a41-9542-407b98e61858&end"},"oneNoteWebUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2160&parId=BC575AB8E2AB9833!109&wd=target%28mongoDB.one%7C274f6f60-9b2c-084b-8214-51539d991fda%2F%EC%9C%A0%EC%A0%80%20%EC%83%9D%EC%84%B1%EB%B0%8F%20%EC%84%A4%EC%A0%95%ED%95%98%EA%B8%B0%28RAW%20ver%5C%29%7C92df1167-94fa-1a41-9542-407b98e61858%2F%29"}},"contentUrl":"https://www.onenote.com/api/v1.0/me/notes/pages/0-16d0034e0bdda94198a6728786f42ea8!1-BC575AB8E2AB9833!2166/content","lastModifiedTime":"2017-08-21T06:10:55Z","parentSection@odata.context":"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections('0-BC575AB8E2AB9833%212166')/pages('0-16d0034e0bdda94198a6728786f42ea8%211-BC575AB8E2AB9833%212166')/parentSection(id,name,self)/$entity","parentSection":{"id":"0-BC575AB8E2AB9833!2166","name":"mongoDB","self":"https://www.onenote.com/api/v1.0/me/notes/sections/0-BC575AB8E2AB9833!2166"},"content":"       ## mongoDB docs 보고 권한 설정하기 ##    https://docs.mongodb.com/v3.2/tutorial/enable-authentication/#alternatives        mongod --config \"C:\\Developer_Study\\TSPark\\MongoDB\\DB\\log_WIK\\log_wik.cfg\" --install        1. 유저 생성.￼use wik_admin￼>> 1차시도 <<￼ db.createUser(￼   {￼  user: \"myUserAdmin\",￼  pwd: \"abc123\",￼  roles: [ { role: \"userAdminAnyDatabase\", db: \"wik_admin\" } ]￼   }￼ )￼ -> 에러. : 2017-05-01T17:17:45.259+0900 E QUERY    [thread1] Error: couldn't add user: No role named userAdminAnyDatabase@wik_admin :￼ _getErrorWithCode@src/mongo/shell/utils.js:25:13￼ DB.prototype.createUser@src/mongo/shell/db.js:1290:15￼ @(shell):1:1￼>> 2차시도 <<￼ db명을 \"admin\"으로만 바꾸니까 잘됨.￼    2. net stop mongodb   // Windows전용?    3-1. cfg 파일을 갖고있다면..( 안됨 X )￼cfg 내용에 다음과 같이 추가한다.￼(enabled : 자기가 권한 있는 DB만 접근가능 / disabled : 모든 DB접근가능)￼ \"￼ security:￼  authorization: enabled￼ \"￼3-2. 커맨드 입력￼ mongod --auth --port 27017 --dbpath DB폴더￼ mongod --auth --port 27017 --dbpath C:\\Developer_Study\\TSPark\\MongoDB\\DB\\WIK￼    4. 새로운 터미널 띄워서 접속시도￼ mongo --port 27017 -u \"myUserAdmin\" -p \"abc123\" --authenticationDatabase \"admin\" (실패)￼ mongo --port 27017 -u \"myUserAdmin\" -p \"abc123\" --authenticationDatabase \"wik_admin\" (됨 ㅡㅡ;)￼ [성공]￼  MongoDB shell version v3.4.4￼  connecting to: mongodb://127.0.0.1:27017/￼  MongoDB server version: 3.4.4￼5. 생성한 유저로 변경￼ use wik_admin￼ db.auth(\"myUserAdmin\", \"abc123\" )￼ [리턴] : 1￼ ￼ use admin￼ db.auth(\"myUserAdmin\", \"abc123\" )￼ [리턴] : Error: Authentication failed.\\n 0 ￼    6. Document 넣기￼ db.book.insert({\"name\": \"MongoDB Tutorial\", \"author\": \"velopert\"});￼ db wik_admin 상태에서 실패함 ㅡㅡ;￼ [실패결과]￼ WriteResult({￼   \"writeError\" : {￼     \"code\" : 13,￼     \"errmsg\" : \"not authorized on wik_admin to execute command { ins￼ ert: \\\"book\\\", documents: [ { _id: ObjectId('5906f3cf97f5e10950739890'), name: \\￼ \"MongoDB Tutorial\\\", author: \\\"velopert\\\" } ], ordered: true }\"￼   }￼ })￼ [ 재시도 ]￼ mongodb 접속을 종료하고￼ net start mongodb로 하니까 된다. ￼ 내가 만든 유저로써 자료삽입한 게 아니다.￼    7. 데이터베이스 리스트들 보기￼ show dbs (데이터를 insert하고 나서야 내가 추가한 db가 보인다.)￼    8. 현재 유저의 상태를 보기￼ db.getUser(\"myUserAdmin\");￼ [결과]￼ {￼   \"_id\" : \"wik_admin.myUserAdmin\",￼   \"user\" : \"myUserAdmin\",￼   \"db\" : \"wik_admin\",￼   \"roles\" : [￼     {￼       \"role\" : \"userAdminAnyDatabase\",￼       \"db\" : \"admin\"￼     }￼   ]￼ }￼    9. 유저 권한 박탈하기￼ // 1개만￼ db.revokeRolesFromUser(￼  \"myUserAdmin\",￼  [￼    { role: \"read\", db: \"wik_admin\" }￼  ]￼ )￼ // 3개이상 지울때..￼ db.revokeRolesFromUser(￼  \"myUserAdmin\",￼  [ \"readWrite\", \"dbAdmin\", ￼    { role: \"read\", db: \"wik_admin\" }￼  ]￼ )￼    10. 유저 권한 부여하기￼ // 2개이상￼ db.grantRolesToUser(￼  \"myUserAdmin\",￼  [ \"readWrite\", ￼    { role: \"read\", db: \"wik_admin\" }￼  ]￼ )￼ // 1개만￼ db.grantRolesToUser(￼  \"myUserAdmin\",￼  [ ￼    { role : \"dbAdmin\", db: \"wik_admin\" }￼  ]￼ )       ","html":"\n\t\t<div style=\"position:absolute;left:48px;top:139px;width:720px\">\n\t\t\t<h1 lang=\"en-US\" style=\"font-size:16pt;color:#1e4e79;margin-top:0pt;margin-bottom:0pt\">## mongoDB docs &#xBCF4;&#xACE0; &#xAD8C;&#xD55C; &#xC124;&#xC815;&#xD558;&#xAE30; ##</h1>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><a href=\"https://docs.mongodb.com/v3.2/tutorial/enable-authentication/#alternatives\">https://docs.mongodb.com/v3.2/tutorial/enable-authentication/#alternatives</a></p>\n\t\t\t<br>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10.5pt;color:black;background-color:yellow\">mongod --config &quot;C:\\Developer_Study\\TSPark\\MongoDB\\DB\\log_WIK\\log_wik.cfg&quot; --install</span></p>\n\t\t\t<br>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10.5pt;color:black;background-color:white\">1. </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC720;&#xC800;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC0DD;&#xC131;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">.</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">use wik_admin</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&gt;&gt; 1</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xCC28;&#xC2DC;&#xB3C4;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> &lt;&lt;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tdb.createUser(</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t  {</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\tuser: &quot;myUserAdmin&quot;,</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\tpwd: &quot;abc123&quot;,</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\troles: [ { role: &quot;userAdminAnyDatabase&quot;, db: &quot;wik_admin&quot; } ]</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t  }</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t)</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t-&gt; </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC5D0;&#xB7EC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">. : 2017-05-01T17:17:45.259+0900 E QUERY    [thread1] Error: couldn&apos;t add user: No role named userAdminAnyDatabase@wik_admin :</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t_getErrorWithCode@src/mongo/shell/utils.js:25:13</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tDB.prototype.createUser@src/mongo/shell/db.js:1290:15</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t@(shell):1:1</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&gt;&gt; 2</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xCC28;&#xC2DC;&#xB3C4;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> &lt;&lt;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tdb</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xBA85;&#xC744;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> &quot;admin&quot;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC73C;&#xB85C;&#xB9CC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xBC14;&#xAFB8;&#xB2C8;&#xAE4C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC798;&#xB428;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">.</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10.5pt;color:black;background-color:white\">2. net stop mongodb  </span><span style=\"font-size:10.5pt;color:#00b050;background-color:white;font-weight:bold\"> // Windows</span><span lang=\"ko-KR\" style=\"font-size:10.5pt;color:#00b050;background-color:white;font-weight:bold\">&#xC804;&#xC6A9;</span><span style=\"font-size:10.5pt;color:#00b050;background-color:white;font-weight:bold\">?</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10.5pt;color:black;background-color:white\">3-1. cfg </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xD30C;&#xC77C;&#xC744;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xAC16;&#xACE0;&#xC788;&#xB2E4;&#xBA74;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">..( </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC548;&#xB428;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> X )</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">cfg </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB0B4;&#xC6A9;&#xC5D0;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB2E4;&#xC74C;&#xACFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xAC19;&#xC774;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xCD94;&#xAC00;&#xD55C;&#xB2E4;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">.</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">(enabled : </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC790;&#xAE30;&#xAC00;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xAD8C;&#xD55C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC788;&#xB294;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> DB</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB9CC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC811;&#xADFC;&#xAC00;&#xB2A5;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> / disabled : </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xBAA8;&#xB4E0;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> DB</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC811;&#xADFC;&#xAC00;&#xB2A5;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">)</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t&quot;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tsecurity:</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\tauthorization: enabled</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t&quot;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">3-2. </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xCEE4;&#xB9E8;&#xB4DC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC785;&#xB825;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tmongod --auth --port 27017 --dbpath DB</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xD3F4;&#xB354;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tmongod --auth --port 27017 --dbpath C:\\Developer_Study\\TSPark\\MongoDB\\DB\\WIK</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10.5pt;color:black;background-color:white\">4. </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC0C8;&#xB85C;&#xC6B4;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xD130;&#xBBF8;&#xB110;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB744;&#xC6CC;&#xC11C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC811;&#xC18D;&#xC2DC;&#xB3C4;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tmongo --port 27017 -u &quot;myUserAdmin&quot; -p &quot;abc123&quot; --authenticationDatabase &quot;admin&quot; (</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC2E4;&#xD328;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">)</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tmongo --port 27017 -u &quot;myUserAdmin&quot; -p &quot;abc123&quot; --authenticationDatabase &quot;wik_admin&quot; (</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB428;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#x3161;&#x3161;;)</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t[&#xC131;&#xACF5;]</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\tMongoDB shell version v3.4.4</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\tconnecting to: mongodb://127.0.0.1:27017/</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\tMongoDB server version: 3.4.4</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">5. &#xC0DD;&#xC131;&#xD55C; &#xC720;&#xC800;&#xB85C; &#xBCC0;&#xACBD;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tuse wik_admin</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tdb.auth(&quot;myUserAdmin&quot;, &quot;abc123&quot; )</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t[&#xB9AC;&#xD134;] : 1</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tuse admin</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tdb.auth(&quot;myUserAdmin&quot;, &quot;abc123&quot; )</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t[&#xB9AC;&#xD134;] : Error: Authentication failed.\\n 0 </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10.5pt;color:black;background-color:white\">6. Document </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB123;&#xAE30;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tdb.book.insert({&quot;name&quot;: &quot;MongoDB Tutorial&quot;, &quot;author&quot;: &quot;velopert&quot;});</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tdb wik_admin </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC0C1;&#xD0DC;&#xC5D0;&#xC11C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC2E4;&#xD328;&#xD568;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#x3161;&#x3161;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t[</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC2E4;&#xD328;&#xACB0;&#xACFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">]</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tWriteResult({</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t&quot;writeError&quot; : {</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t\t\t&quot;code&quot; : 13,</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t\t\t&quot;errmsg&quot; : &quot;not authorized on wik_admin to execute command { ins</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tert: \\&quot;book\\&quot;, documents: [ { _id: ObjectId(&apos;5906f3cf97f5e10950739890&apos;), name: \\</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t&quot;MongoDB Tutorial\\&quot;, author: \\&quot;velopert\\&quot; } ], ordered: true }&quot;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t}</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t})</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t[ </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC7AC;&#xC2DC;&#xB3C4;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> ]</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tmongodb </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC811;&#xC18D;&#xC744;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC885;&#xB8CC;&#xD558;&#xACE0;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tnet start mongodb</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB85C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xD558;&#xB2C8;&#xAE4C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB41C;&#xB2E4;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">. </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB0B4;&#xAC00;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB9CC;&#xB4E0;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC720;&#xC800;&#xB85C;&#xC368;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC790;&#xB8CC;&#xC0BD;&#xC785;&#xD55C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xAC8C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC544;&#xB2C8;&#xB2E4;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">.</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10.5pt;color:black;background-color:white\">7. </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB370;&#xC774;&#xD130;&#xBCA0;&#xC774;&#xC2A4;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB9AC;&#xC2A4;&#xD2B8;&#xB4E4;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xBCF4;&#xAE30;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tshow dbs\t(</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB370;&#xC774;&#xD130;&#xB97C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> insert</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xD558;&#xACE0;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB098;&#xC11C;&#xC57C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xB0B4;&#xAC00;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xCD94;&#xAC00;&#xD55C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> db</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xAC00;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xBCF4;&#xC778;&#xB2E4;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">.)</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10.5pt;color:black;background-color:white\">8. </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xD604;&#xC7AC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC720;&#xC800;&#xC758;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC0C1;&#xD0DC;&#xB97C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xBCF4;&#xAE30;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tdb.getUser(&quot;myUserAdmin&quot;);</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t[</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xACB0;&#xACFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">]</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t{</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t&quot;_id&quot; : &quot;wik_admin.myUserAdmin&quot;,</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t&quot;user&quot; : &quot;myUserAdmin&quot;,</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t&quot;db&quot; : &quot;wik_admin&quot;,</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t&quot;roles&quot; : [</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t\t\t{</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t\t\t\t\t&quot;role&quot; : &quot;userAdminAnyDatabase&quot;,</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t\t\t\t\t&quot;db&quot; : &quot;admin&quot;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t\t\t}</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t\t]</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t}</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10.5pt;color:black;background-color:white\">9. </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC720;&#xC800;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xAD8C;&#xD55C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xBC15;&#xD0C8;&#xD558;&#xAE30;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t// 1</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xAC1C;&#xB9CC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tdb.revokeRolesFromUser(</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t&quot;myUserAdmin&quot;,</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t[</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t  { role: &quot;read&quot;, db: &quot;wik_admin&quot; }</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t]</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t)</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t// 3</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xAC1C;&#xC774;&#xC0C1;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC9C0;&#xC6B8;&#xB54C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">..</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tdb.revokeRolesFromUser(</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t&quot;myUserAdmin&quot;,</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t[ &quot;readWrite&quot;, &quot;dbAdmin&quot;, </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t  { role: &quot;read&quot;, db: &quot;wik_admin&quot; }</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t]</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t)</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-size:10.5pt;color:black;background-color:white\">10. </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xC720;&#xC800;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xAD8C;&#xD55C;</span><span style=\"font-size:10.5pt;color:black;background-color:white\"> </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xBD80;&#xC5EC;&#xD558;&#xAE30;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t// 2</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xAC1C;&#xC774;&#xC0C1;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tdb.grantRolesToUser(</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t&quot;myUserAdmin&quot;,</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t[ &quot;readWrite&quot;, </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t  { role: &quot;read&quot;, db: &quot;wik_admin&quot; }</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t]</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t)</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t// 1</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xAC1C;&#xB9CC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\tdb.grantRolesToUser(</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t&quot;myUserAdmin&quot;,</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t[ </span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t  { role : &quot;dbAdmin&quot;, db: &quot;wik_admin&quot; }</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t\t]</span><span style=\"font-size:10.5pt;color:black;background-color:white\">&#xFFFC;</span><span style=\"font-size:10.5pt;color:black;background-color:white\">\t)</span></p>\n\t\t</div>\n\t\n\n"}}}