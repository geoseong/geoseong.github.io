{"pageContext":{"notebook":"Web Dev","section":"Docker","page":{"id":"0-9a6ed207b6866a4c80085faab937d19f!1-BC575AB8E2AB9833!2141","self":"https://www.onenote.com/api/v1.0/me/notes/pages/0-9a6ed207b6866a4c80085faab937d19f!1-BC575AB8E2AB9833!2141","createdTime":"2019-02-12T05:47:45.085Z","title":"GitLab CI: Dockerfile 개요","createdByAppId":"","links":{"oneNoteEmbedUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!1937&parId=BC575AB8E2AB9833!109&wd=target%28Docker.one%7Cc134cdbf-f311-3945-bbdb-f8eecc1a6d52%2FGitLab%20CI%20Dockerfile%20%EA%B0%9C%EC%9A%94%7C70ad3525-d9ef-7f4b-945e-c20caba0a645%2F%29"},"oneNoteClientUrl":{"href":"onenote:https://d.docs.live.net/bc575ab8e2ab9833/Documents/Web%20Dev/Docker.one#GitLab%20CI%20Dockerfile%20%EA%B0%9C%EC%9A%94&section-id=c134cdbf-f311-3945-bbdb-f8eecc1a6d52&page-id=70ad3525-d9ef-7f4b-945e-c20caba0a645&end"},"oneNoteWebUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!1937&parId=BC575AB8E2AB9833!109&wd=target%28Docker.one%7Cc134cdbf-f311-3945-bbdb-f8eecc1a6d52%2FGitLab%20CI%20Dockerfile%20%EA%B0%9C%EC%9A%94%7C70ad3525-d9ef-7f4b-945e-c20caba0a645%2F%29"}},"contentUrl":"https://www.onenote.com/api/v1.0/me/notes/pages/0-9a6ed207b6866a4c80085faab937d19f!1-BC575AB8E2AB9833!2141/content","lastModifiedTime":"2019-02-12T05:50:36Z","parentSection@odata.context":"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections('0-BC575AB8E2AB9833%212141')/pages('0-9a6ed207b6866a4c80085faab937d19f%211-BC575AB8E2AB9833%212141')/parentSection(id,name,self)/$entity","parentSection":{"id":"0-BC575AB8E2AB9833!2141","name":"Docker","self":"https://www.onenote.com/api/v1.0/me/notes/sections/0-BC575AB8E2AB9833!2141"},"content":"       Dockerfile    - Docker의 세계에 빠지게 하는 파일    - 루트 경로에다가 확장자 없이 `Dockerfile`을 만들고 하고자 하는 명령들을 넣는다.      - [공식문서-Best practices for writing Dockerfiles](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/)      ```      FROM ubuntu:15.04      COPY . /app      RUN make /app      CMD python /app/app.py      ```        Docker Hub에 있는 이미지 여러 개 가져와서 사용하기    - node.js나 python을 둘 다 설치하고 쓰고플 때, `.gitlab-ci.yml`의 image나 service 구문을 여러 개 사용하면 된다고 생각하지만, 그렇게 쉽게 될 거였으면 이런 문서도 안썼다.    - 여러 개의 services를 써서 안된다고 설명한 공식 문서 링크가 있는데 지금 못 찾고 있다.. ㅋ      - [ ]  링크 찾아서 수정하기    - Docker Hub에서 사용할 수 있는 이미지의 종류는 official한 것과 사용자가 올린 public한 것 두 가지로 나뉘어 지는 것 같다. 지금까지 내 뇌 속에서는 그렇다..      - official한 것은 `ubuntu`, `node`, `python` 같은 형태로 image를 가져와 쓸 수 있다.      - public한 것은 `{Author}/node-python` 같은 형태로써 해당 이미지를 작성한 사람이 앞에 오고 `/`을 써서 이미지 명을 쓴다.    - `.gitlab-ci.yml`에서 image를 가져오는 방법은 이렇다      ```      image: docker:latest      ```      - `docker`는 이미지명이고, `latest`는 태그명이다.      - **태그명 사용 법**은, 예를 들어 [Docker HUB](https://hub.docker.com/r/library/docker/tags/) 를 가 보면, `Tags` 탭에 정의되어 있는 것을 쓰면 된다. 가장 최근것 쓰고싶으면 그냥 `latest` 쓰면 되겠다.        - 그렇지만 사용자가 직접 만든 이미지는 그렇지 않을 수도 있다. 왜냐하면 직접 태그명을 네이밍해서 올리기 때문에.. 숫자만 허용되는 것이 아니라 String도 허용이 된다.    - 예제 **`Dockerfile`**      ```      # Ref: https://github.com/nikolaik/docker-python-nodejs      FROM nikolaik/python-nodejs:latest      COPY src /tmp/      RUN ls /tmp -al      RUN pip install awscli      RUN npm install serverless      ```    - 예제 **`.gitlab-ci.yml`**      ```      # This file is a template, and might need editing before it works on your project.      # Official framework image. Look for the different tagged releases at:      # https://hub.docker.com/r/library/docker/tags/      image: docker:latest          # Pick zero or more services to be used on all builds.      # Only needed when using a docker container to run your tests in.      # Check out: http://docs.gitlab.com/ce/ci/docker/using_docker_images.html#what-is-a-service      services:        - docker:dind        # - nikolaik/python-nodejs:latest  # Docker Hub에서 non-officlal image를 services를 이용해서 가져오는 이 방법은 GitLab CI에서 접근 불가함.          variables:        AWS_ACCESS_KEY_ID: \"-----\" # GitLab의 Settings > CI/CD를 들어가서 Variables에다가 정의 해 놓고 ${변수명} 으로 가져다 써도 된다.        AWS_SECRET_ACCESS_KEY: \"-----\"        S3_BUCKET_NAME: \"S3버킷명\"          # This folder is cached between builds      # http://docs.gitlab.com/ce/ci/yaml/README.html#cache      cache:        paths:          - node_modules/          before_script:        # https://hub.docker.com/ 에 가입된 계정으로 로그인을 해야 일반 사용자가 만든 public한 docker image를 pull 해 올 수 있다.        - docker login -u geoseong -p $GEOSEONG_DOCKER_HUB_PW        - docker build --tag dockerimg .  # docker build <옵션> <Dockerfile 경로>        # - docker pull nikolaik/python-nodejs:latest # Dockerfile을 쓸 필요 없이 순수하게 이미지 하나만 가져오고 싶을때에는, docker build대신 docker pull을 쓰면 된다.        - docker images # 리눅스의 ls와 같은 기능이다. 현재 시스템에서의 docker images 목록보기.        - docker run --env AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID --env AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY -d --name geoseongimg dockerimg:latest aws s3 cp --recursive tmp/ s3://$S3_BUCKET_NAME --acl public-read # docker run <옵션> <이미지 이름> <실행할 파일>      ```        GitLab CI에서 private한 Registry 등록하기    - GitLab 에서는 private한 나만의 이미지를 public하게 쓰는 Docker HUB이 아니라 GitLab에서만 사용할 수 있는 private 이미지 생성기능을 제공한다.    - GitLab 리포지토리 들어가면 좌측의 `Registry` 를 들어가면 간단한 가이드가 나와있다. 너무 간단해서 바로 보고 성공은 못한다    - 예제 **`.gitlab-ci.yml`**      ```      # This file is a template, and might need editing before it works on your project.      # Official framework image. Look for the different tagged releases at:      # https://hub.docker.com/r/library/node/tags/      image: docker:latest          # Pick zero or more services to be used on all builds.      # Only needed when using a docker container to run your tests in.      # Check out: http://docs.gitlab.com/ce/ci/docker/using_docker_images.html#what-is-a-service      services:        - docker:dind        # - nikolaik/python-nodejs:latest  # Docker Hub에서 non-officlal image를 services를 이용해서 가져오는 이 방법은 GitLab CI에서 접근 불가함.          variables:        AWS_ACCESS_KEY_ID: \"-----\" # GitLab의 Settings > CI/CD를 들어가서 Variables에다가 정의 해 놓고 ${변수명} 으로 가져다 써도 된다.        AWS_SECRET_ACCESS_KEY: \"-----\"        S3_BUCKET_NAME: \"S3버킷명\"          # This folder is cached between builds      # http://docs.gitlab.com/ce/ci/yaml/README.html#cache      cache:        paths:          - node_modules/          before_script:        # GitLab에서 폐쇠적으로 사용하는 Container Registry로 인증해서 내가 만든 이미지 사용하기        - docker login -u gitlab-ci-token -p $CI_BUILD_TOKEN $CI_REGISTRY          build_aws_case2:        only:          - geoseong        script:          - docker build -t registry.gitlab.com/ideasam/mom:0.1 . # GitLab Registry를 들어가면 -t의 이름을 보여준다. 태그명은 알아서 네이밍하도록.          - docker push registry.gitlab.com/ideasam/mom:0.1      ```        # GitLab CI에서 등록한 Registry 사용하기    - 바로 위에서 만든 `registry.gitlab.com/ideasam/mom:0.1` 이미지를 `.gitlab-ci.yml`의 **image** 문법으로 불러올 수 있다    - 이렇게 custom하게 내가 필요한 패키지들이 다 깔려있는 이미지를 사용하면, 패키지 설치시간의 단축의 효과를 볼 수 있다.    - 예제 **`.gitlab-ci.yml`**      ```      image: registry.gitlab.com/ideasam/mom:0.1          variables:        AWS_ACCESS_KEY_ID: \"AKIAJLN3M2OPJJPCNPTQ\"        AWS_SECRET_ACCESS_KEY: \"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\"        S3_BUCKET_NAME: \"geoseong-private\"          # This folder is cached between builds      # http://docs.gitlab.com/ce/ci/yaml/README.html#cache      cache:        paths:          - node_modules/          build_aws_case2:      only:        - geoseong      script:        - npm install        - aws s3 cp --recursive src/ s3://$S3_BUCKET_NAME --acl public-read      ```        # cache의 쓰임    - 알아내야 함      - [ ] cache의 쓰임 알아내기        # 기타 GitLab CI의 쓰임에 대한 공식문서    - [INDEX](https://docs.gitlab.com/ce/ci/README.html)      - [Configuration of your jobs with .gitlab-ci.yml](https://docs.gitlab.com/ce/ci/yaml/README.html)      - [Getting started with GitLab CI/CD](https://docs.gitlab.com/ce/ci/quick_start/README.html)       ","html":"\n\t\t<div style=\"position:absolute;left:48px;top:115px;width:576px\">\n\t\t\t<h2 style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">Dockerfile</h2>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- Docker<span style=\"font-family:Malgun Gothic\">&#xC758;</span> <span style=\"font-family:Malgun Gothic\">&#xC138;&#xACC4;&#xC5D0;</span> <span style=\"font-family:Malgun Gothic\">&#xBE60;&#xC9C0;&#xAC8C;</span> <span style=\"font-family:Malgun Gothic\">&#xD558;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xD30C;&#xC77C;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- <span style=\"font-family:Malgun Gothic\">&#xB8E8;&#xD2B8;</span> <span style=\"font-family:Malgun Gothic\">&#xACBD;&#xB85C;&#xC5D0;&#xB2E4;&#xAC00;</span> <span style=\"font-family:Malgun Gothic\">&#xD655;&#xC7A5;&#xC790;</span> <span style=\"font-family:Malgun Gothic\">&#xC5C6;&#xC774;</span> `Dockerfile`<span style=\"font-family:Malgun Gothic\">&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xB9CC;&#xB4E4;&#xACE0;</span> <span style=\"font-family:Malgun Gothic\">&#xD558;&#xACE0;&#xC790;</span> <span style=\"font-family:Malgun Gothic\">&#xD558;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xBA85;&#xB839;&#xB4E4;&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xB123;&#xB294;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  - [<span style=\"font-family:Malgun Gothic\">&#xACF5;&#xC2DD;&#xBB38;&#xC11C;</span>-Best practices for writing Dockerfiles](https://docs.docker.com/develop/develop-images/dockerfile_best-practices/)</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  FROM ubuntu:15.04</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  COPY . /app</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  RUN make /app</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  CMD python /app/app.py</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<br>\n\t\t\t<h2 style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">Docker Hub<span style=\"font-family:Malgun Gothic\">&#xC5D0;</span> <span style=\"font-family:Malgun Gothic\">&#xC788;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;</span> <span style=\"font-family:Malgun Gothic\">&#xC5EC;&#xB7EC;</span> <span style=\"font-family:Malgun Gothic\">&#xAC1C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC838;&#xC640;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xD558;&#xAE30;</span></h2>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- node.js<span style=\"font-family:Malgun Gothic\">&#xB098;</span> python<span style=\"font-family:Malgun Gothic\">&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xB458;</span> <span style=\"font-family:Malgun Gothic\">&#xB2E4;</span> <span style=\"font-family:Malgun Gothic\">&#xC124;&#xCE58;&#xD558;&#xACE0;</span> <span style=\"font-family:Malgun Gothic\">&#xC4F0;&#xACE0;&#xD50C;</span> <span style=\"font-family:Malgun Gothic\">&#xB54C;</span>, `.gitlab-ci.yml`<span style=\"font-family:Malgun Gothic\">&#xC758;</span> image<span style=\"font-family:Malgun Gothic\">&#xB098;</span> service <span style=\"font-family:Malgun Gothic\">&#xAD6C;&#xBB38;&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xC5EC;&#xB7EC;</span> <span style=\"font-family:Malgun Gothic\">&#xAC1C;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xD558;&#xBA74;</span> <span style=\"font-family:Malgun Gothic\">&#xB41C;&#xB2E4;&#xACE0;</span> <span style=\"font-family:Malgun Gothic\">&#xC0DD;&#xAC01;&#xD558;&#xC9C0;&#xB9CC;</span>, <span style=\"font-family:Malgun Gothic\">&#xADF8;&#xB807;&#xAC8C;</span> <span style=\"font-family:Malgun Gothic\">&#xC27D;&#xAC8C;</span> <span style=\"font-family:Malgun Gothic\">&#xB420;</span> <span style=\"font-family:Malgun Gothic\">&#xAC70;&#xC600;&#xC73C;&#xBA74;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xB7F0;</span> <span style=\"font-family:Malgun Gothic\">&#xBB38;&#xC11C;&#xB3C4;</span> <span style=\"font-family:Malgun Gothic\">&#xC548;&#xC37C;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- <span style=\"font-family:Malgun Gothic\">&#xC5EC;&#xB7EC;</span> <span style=\"font-family:Malgun Gothic\">&#xAC1C;&#xC758;</span> services<span style=\"font-family:Malgun Gothic\">&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xC368;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xC548;&#xB41C;&#xB2E4;&#xACE0;</span> <span style=\"font-family:Malgun Gothic\">&#xC124;&#xBA85;&#xD55C;</span> <span style=\"font-family:Malgun Gothic\">&#xACF5;&#xC2DD;</span> <span style=\"font-family:Malgun Gothic\">&#xBB38;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xB9C1;&#xD06C;&#xAC00;</span> <span style=\"font-family:Malgun Gothic\">&#xC788;&#xB294;&#xB370;</span> <span style=\"font-family:Malgun Gothic\">&#xC9C0;&#xAE08;</span> <span style=\"font-family:Malgun Gothic\">&#xBABB;</span> <span style=\"font-family:Malgun Gothic\">&#xCC3E;&#xACE0;</span> <span style=\"font-family:Malgun Gothic\">&#xC788;&#xB2E4;</span>.. <span style=\"font-family:Malgun Gothic\">&#x314B;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  - [ ]  <span style=\"font-family:Malgun Gothic\">&#xB9C1;&#xD06C;</span> <span style=\"font-family:Malgun Gothic\">&#xCC3E;&#xC544;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xC218;&#xC815;&#xD558;&#xAE30;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- Docker Hub<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xD560;</span> <span style=\"font-family:Malgun Gothic\">&#xC218;</span> <span style=\"font-family:Malgun Gothic\">&#xC788;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;&#xC758;</span> <span style=\"font-family:Malgun Gothic\">&#xC885;&#xB958;&#xB294;</span> official<span style=\"font-family:Malgun Gothic\">&#xD55C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC83;&#xACFC;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xC790;&#xAC00;</span> <span style=\"font-family:Malgun Gothic\">&#xC62C;&#xB9B0;</span> public<span style=\"font-family:Malgun Gothic\">&#xD55C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC83;</span> <span style=\"font-family:Malgun Gothic\">&#xB450;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC9C0;&#xB85C;</span> <span style=\"font-family:Malgun Gothic\">&#xB098;&#xB258;&#xC5B4;</span> <span style=\"font-family:Malgun Gothic\">&#xC9C0;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xAC83;</span> <span style=\"font-family:Malgun Gothic\">&#xAC19;&#xB2E4;</span>. <span style=\"font-family:Malgun Gothic\">&#xC9C0;&#xAE08;&#xAE4C;&#xC9C0;</span> <span style=\"font-family:Malgun Gothic\">&#xB0B4;</span> <span style=\"font-family:Malgun Gothic\">&#xB1CC;</span> <span style=\"font-family:Malgun Gothic\">&#xC18D;&#xC5D0;&#xC11C;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xADF8;&#xB807;&#xB2E4;</span>..</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  - official<span style=\"font-family:Malgun Gothic\">&#xD55C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC83;&#xC740;</span> `ubuntu`, `node`, `python` <span style=\"font-family:Malgun Gothic\">&#xAC19;&#xC740;</span> <span style=\"font-family:Malgun Gothic\">&#xD615;&#xD0DC;&#xB85C;</span> image<span style=\"font-family:Malgun Gothic\">&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC838;&#xC640;</span> <span style=\"font-family:Malgun Gothic\">&#xC4F8;</span> <span style=\"font-family:Malgun Gothic\">&#xC218;</span> <span style=\"font-family:Malgun Gothic\">&#xC788;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  - public<span style=\"font-family:Malgun Gothic\">&#xD55C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC83;&#xC740;</span> `{Author}/node-python` <span style=\"font-family:Malgun Gothic\">&#xAC19;&#xC740;</span> <span style=\"font-family:Malgun Gothic\">&#xD615;&#xD0DC;&#xB85C;&#xC368;</span> <span style=\"font-family:Malgun Gothic\">&#xD574;&#xB2F9;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xC791;&#xC131;&#xD55C;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xB78C;&#xC774;</span> <span style=\"font-family:Malgun Gothic\">&#xC55E;&#xC5D0;</span> <span style=\"font-family:Malgun Gothic\">&#xC624;&#xACE0;</span> `/`<span style=\"font-family:Malgun Gothic\">&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xC368;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;</span> <span style=\"font-family:Malgun Gothic\">&#xBA85;&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xC4F4;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- `.gitlab-ci.yml`<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;</span> image<span style=\"font-family:Malgun Gothic\">&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC838;&#xC624;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xBC29;&#xBC95;&#xC740;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xB807;&#xB2E4;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  image: docker:latest</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  - `docker`<span style=\"font-family:Malgun Gothic\">&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;&#xBA85;&#xC774;&#xACE0;</span>, `latest`<span style=\"font-family:Malgun Gothic\">&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xD0DC;&#xADF8;&#xBA85;&#xC774;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  - **<span style=\"font-family:Malgun Gothic\">&#xD0DC;&#xADF8;&#xBA85;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;</span> <span style=\"font-family:Malgun Gothic\">&#xBC95;</span>**<span style=\"font-family:Malgun Gothic\">&#xC740;</span>, <span style=\"font-family:Malgun Gothic\">&#xC608;&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xB4E4;&#xC5B4;</span> [Docker HUB](https://hub.docker.com/r/library/docker/tags/) <span style=\"font-family:Malgun Gothic\">&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;</span> <span style=\"font-family:Malgun Gothic\">&#xBCF4;&#xBA74;</span>, `Tags` <span style=\"font-family:Malgun Gothic\">&#xD0ED;&#xC5D0;</span> <span style=\"font-family:Malgun Gothic\">&#xC815;&#xC758;&#xB418;&#xC5B4;</span> <span style=\"font-family:Malgun Gothic\">&#xC788;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xAC83;&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xC4F0;&#xBA74;</span> <span style=\"font-family:Malgun Gothic\">&#xB41C;&#xB2E4;</span>. <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC7A5;</span> <span style=\"font-family:Malgun Gothic\">&#xCD5C;&#xADFC;&#xAC83;</span> <span style=\"font-family:Malgun Gothic\">&#xC4F0;&#xACE0;&#xC2F6;&#xC73C;&#xBA74;</span> <span style=\"font-family:Malgun Gothic\">&#xADF8;&#xB0E5;</span> `latest` <span style=\"font-family:Malgun Gothic\">&#xC4F0;&#xBA74;</span> <span style=\"font-family:Malgun Gothic\">&#xB418;&#xACA0;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    - <span style=\"font-family:Malgun Gothic\">&#xADF8;&#xB807;&#xC9C0;&#xB9CC;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xC790;&#xAC00;</span> <span style=\"font-family:Malgun Gothic\">&#xC9C1;&#xC811;</span> <span style=\"font-family:Malgun Gothic\">&#xB9CC;&#xB4E0;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xADF8;&#xB807;&#xC9C0;</span> <span style=\"font-family:Malgun Gothic\">&#xC54A;&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xC218;&#xB3C4;</span> <span style=\"font-family:Malgun Gothic\">&#xC788;&#xB2E4;</span>. <span style=\"font-family:Malgun Gothic\">&#xC65C;&#xB0D0;&#xD558;&#xBA74;</span> <span style=\"font-family:Malgun Gothic\">&#xC9C1;&#xC811;</span> <span style=\"font-family:Malgun Gothic\">&#xD0DC;&#xADF8;&#xBA85;&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xB124;&#xC774;&#xBC0D;&#xD574;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xC62C;&#xB9AC;&#xAE30;</span> <span style=\"font-family:Malgun Gothic\">&#xB54C;&#xBB38;&#xC5D0;</span>.. <span style=\"font-family:Malgun Gothic\">&#xC22B;&#xC790;&#xB9CC;</span> <span style=\"font-family:Malgun Gothic\">&#xD5C8;&#xC6A9;&#xB418;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xAC83;&#xC774;</span> <span style=\"font-family:Malgun Gothic\">&#xC544;&#xB2C8;&#xB77C;</span> String<span style=\"font-family:Malgun Gothic\">&#xB3C4;</span> <span style=\"font-family:Malgun Gothic\">&#xD5C8;&#xC6A9;&#xC774;</span> <span style=\"font-family:Malgun Gothic\">&#xB41C;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- <span style=\"font-family:Malgun Gothic\">&#xC608;&#xC81C;</span> **`Dockerfile`**</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # Ref: <a href=\"https://github.com/nikolaik/docker-python-nodejs\">https://github.com/nikolaik/docker-python-nodejs</a></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  FROM nikolaik/python-nodejs:latest</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  COPY src /tmp/</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  RUN ls /tmp -al</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  RUN pip install awscli</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  RUN npm install serverless</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- <span style=\"font-family:Malgun Gothic\">&#xC608;&#xC81C;</span> **`.gitlab-ci.yml`**</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # This file is a template, and might need editing before it works on your project.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # Official framework image. Look for the different tagged releases at:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # <a href=\"https://hub.docker.com/r/library/docker/tags/\">https://hub.docker.com/r/library/docker/tags/</a></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  image: docker:latest</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # Pick zero or more services to be used on all builds.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # Only needed when using a docker container to run your tests in.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # Check out: <a href=\"http://docs.gitlab.com/ce/ci/docker/using_docker_images.html#what-is-a-service\">http://docs.gitlab.com/ce/ci/docker/using_docker_images.html#what-is-a-service</a></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  services:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    - docker:dind</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    # - nikolaik/python-nodejs:latest  # Docker Hub<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;</span> non-officlal image<span style=\"font-family:Malgun Gothic\">&#xB97C;</span> services<span style=\"font-family:Malgun Gothic\">&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xC6A9;&#xD574;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC838;&#xC624;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;</span> <span style=\"font-family:Malgun Gothic\">&#xBC29;&#xBC95;&#xC740;</span> GitLab CI<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xC811;&#xADFC;</span> <span style=\"font-family:Malgun Gothic\">&#xBD88;&#xAC00;&#xD568;</span>.</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  variables:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    AWS_ACCESS_KEY_ID: &quot;-----&quot; # GitLab<span style=\"font-family:Malgun Gothic\">&#xC758;</span> Settings &gt; CI/CD<span style=\"font-family:Malgun Gothic\">&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xB4E4;&#xC5B4;&#xAC00;&#xC11C;</span> Variables<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xB2E4;&#xAC00;</span> <span style=\"font-family:Malgun Gothic\">&#xC815;&#xC758;</span> <span style=\"font-family:Malgun Gothic\">&#xD574;</span> <span style=\"font-family:Malgun Gothic\">&#xB193;&#xACE0;</span> ${<span style=\"font-family:Malgun Gothic\">&#xBCC0;&#xC218;&#xBA85;</span>} <span style=\"font-family:Malgun Gothic\">&#xC73C;&#xB85C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC838;&#xB2E4;</span> <span style=\"font-family:Malgun Gothic\">&#xC368;&#xB3C4;</span> <span style=\"font-family:Malgun Gothic\">&#xB41C;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    AWS_SECRET_ACCESS_KEY: &quot;-----&quot;</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    S3_BUCKET_NAME: &quot;S3<span style=\"font-family:Malgun Gothic\">&#xBC84;&#xD0B7;&#xBA85;</span>&quot;</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # This folder is cached between builds</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # <a href=\"http://docs.gitlab.com/ce/ci/yaml/README.html#cache\">http://docs.gitlab.com/ce/ci/yaml/README.html#cache</a></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  cache:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    paths:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">      - node_modules/</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  before_script:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    # <a href=\"https://hub.docker.com/\">https://hub.docker.com/</a> <span style=\"font-family:Malgun Gothic\">&#xC5D0;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC785;&#xB41C;</span> <span style=\"font-family:Malgun Gothic\">&#xACC4;&#xC815;&#xC73C;&#xB85C;</span> <span style=\"font-family:Malgun Gothic\">&#xB85C;&#xADF8;&#xC778;&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xD574;&#xC57C;</span> <span style=\"font-family:Malgun Gothic\">&#xC77C;&#xBC18;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xC790;&#xAC00;</span> <span style=\"font-family:Malgun Gothic\">&#xB9CC;&#xB4E0;</span> public<span style=\"font-family:Malgun Gothic\">&#xD55C;</span> docker image<span style=\"font-family:Malgun Gothic\">&#xB97C;</span> pull <span style=\"font-family:Malgun Gothic\">&#xD574;</span> <span style=\"font-family:Malgun Gothic\">&#xC62C;</span> <span style=\"font-family:Malgun Gothic\">&#xC218;</span> <span style=\"font-family:Malgun Gothic\">&#xC788;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    - docker login -u geoseong -p $GEOSEONG_DOCKER_HUB_PW</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    - docker build --tag dockerimg .  # docker build &lt;<span style=\"font-family:Malgun Gothic\">&#xC635;&#xC158;</span>&gt; &lt;Dockerfile <span style=\"font-family:Malgun Gothic\">&#xACBD;&#xB85C;</span>&gt;</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    # - docker pull nikolaik/python-nodejs:latest # Dockerfile<span style=\"font-family:Malgun Gothic\">&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xC4F8;</span> <span style=\"font-family:Malgun Gothic\">&#xD544;&#xC694;</span> <span style=\"font-family:Malgun Gothic\">&#xC5C6;&#xC774;</span> <span style=\"font-family:Malgun Gothic\">&#xC21C;&#xC218;&#xD558;&#xAC8C;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;</span> <span style=\"font-family:Malgun Gothic\">&#xD558;&#xB098;&#xB9CC;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC838;&#xC624;&#xACE0;</span> <span style=\"font-family:Malgun Gothic\">&#xC2F6;&#xC744;&#xB54C;&#xC5D0;&#xB294;</span>, docker build<span style=\"font-family:Malgun Gothic\">&#xB300;&#xC2E0;</span> docker pull<span style=\"font-family:Malgun Gothic\">&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xC4F0;&#xBA74;</span> <span style=\"font-family:Malgun Gothic\">&#xB41C;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    - docker images # <span style=\"font-family:Malgun Gothic\">&#xB9AC;&#xB205;&#xC2A4;&#xC758;</span> ls<span style=\"font-family:Malgun Gothic\">&#xC640;</span> <span style=\"font-family:Malgun Gothic\">&#xAC19;&#xC740;</span> <span style=\"font-family:Malgun Gothic\">&#xAE30;&#xB2A5;&#xC774;&#xB2E4;</span>. <span style=\"font-family:Malgun Gothic\">&#xD604;&#xC7AC;</span> <span style=\"font-family:Malgun Gothic\">&#xC2DC;&#xC2A4;&#xD15C;&#xC5D0;&#xC11C;&#xC758;</span> docker images <span style=\"font-family:Malgun Gothic\">&#xBAA9;&#xB85D;&#xBCF4;&#xAE30;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    - docker run --env AWS_ACCESS_KEY_ID=$AWS_ACCESS_KEY_ID --env AWS_SECRET_ACCESS_KEY=$AWS_SECRET_ACCESS_KEY -d --name geoseongimg dockerimg:latest aws s3 cp --recursive tmp/ s3://$S3_BUCKET_NAME --acl public-read # docker run &lt;<span style=\"font-family:Malgun Gothic\">&#xC635;&#xC158;</span>&gt; &lt;<span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xB984;</span>&gt; &lt;<span style=\"font-family:Malgun Gothic\">&#xC2E4;&#xD589;&#xD560;</span> <span style=\"font-family:Malgun Gothic\">&#xD30C;&#xC77C;</span>&gt;</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<br>\n\t\t\t<h2 style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">GitLab CI<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;</span> private<span style=\"font-family:Malgun Gothic\">&#xD55C;</span> Registry <span style=\"font-family:Malgun Gothic\">&#xB4F1;&#xB85D;&#xD558;&#xAE30;</span></h2>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- GitLab <span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;&#xB294;</span> private<span style=\"font-family:Malgun Gothic\">&#xD55C;</span> <span style=\"font-family:Malgun Gothic\">&#xB098;&#xB9CC;&#xC758;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;&#xB97C;</span> public<span style=\"font-family:Malgun Gothic\">&#xD558;&#xAC8C;</span> <span style=\"font-family:Malgun Gothic\">&#xC4F0;&#xB294;</span> Docker HUB<span style=\"font-family:Malgun Gothic\">&#xC774;</span> <span style=\"font-family:Malgun Gothic\">&#xC544;&#xB2C8;&#xB77C;</span> GitLab<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;&#xB9CC;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xD560;</span> <span style=\"font-family:Malgun Gothic\">&#xC218;</span> <span style=\"font-family:Malgun Gothic\">&#xC788;&#xB294;</span> private <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;</span> <span style=\"font-family:Malgun Gothic\">&#xC0DD;&#xC131;&#xAE30;&#xB2A5;&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xC81C;&#xACF5;&#xD55C;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- GitLab <span style=\"font-family:Malgun Gothic\">&#xB9AC;&#xD3EC;&#xC9C0;&#xD1A0;&#xB9AC;</span> <span style=\"font-family:Malgun Gothic\">&#xB4E4;&#xC5B4;&#xAC00;&#xBA74;</span> <span style=\"font-family:Malgun Gothic\">&#xC88C;&#xCE21;&#xC758;</span> `Registry` <span style=\"font-family:Malgun Gothic\">&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xB4E4;&#xC5B4;&#xAC00;&#xBA74;</span> <span style=\"font-family:Malgun Gothic\">&#xAC04;&#xB2E8;&#xD55C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC774;&#xB4DC;&#xAC00;</span> <span style=\"font-family:Malgun Gothic\">&#xB098;&#xC640;&#xC788;&#xB2E4;</span>. <span style=\"font-family:Malgun Gothic\">&#xB108;&#xBB34;</span> <span style=\"font-family:Malgun Gothic\">&#xAC04;&#xB2E8;&#xD574;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xBC14;&#xB85C;</span> <span style=\"font-family:Malgun Gothic\">&#xBCF4;&#xACE0;</span> <span style=\"font-family:Malgun Gothic\">&#xC131;&#xACF5;&#xC740;</span> <span style=\"font-family:Malgun Gothic\">&#xBABB;&#xD55C;&#xB2E4;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- <span style=\"font-family:Malgun Gothic\">&#xC608;&#xC81C;</span> **`.gitlab-ci.yml`**</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # This file is a template, and might need editing before it works on your project.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # Official framework image. Look for the different tagged releases at:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # <a href=\"https://hub.docker.com/r/library/node/tags/\">https://hub.docker.com/r/library/node/tags/</a></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  image: docker:latest</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # Pick zero or more services to be used on all builds.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # Only needed when using a docker container to run your tests in.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # Check out: <a href=\"http://docs.gitlab.com/ce/ci/docker/using_docker_images.html#what-is-a-service\">http://docs.gitlab.com/ce/ci/docker/using_docker_images.html#what-is-a-service</a></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  services:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    - docker:dind</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    # - nikolaik/python-nodejs:latest  # Docker Hub<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;</span> non-officlal image<span style=\"font-family:Malgun Gothic\">&#xB97C;</span> services<span style=\"font-family:Malgun Gothic\">&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xC6A9;&#xD574;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC838;&#xC624;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;</span> <span style=\"font-family:Malgun Gothic\">&#xBC29;&#xBC95;&#xC740;</span> GitLab CI<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xC811;&#xADFC;</span> <span style=\"font-family:Malgun Gothic\">&#xBD88;&#xAC00;&#xD568;</span>.</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  variables:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    AWS_ACCESS_KEY_ID: &quot;-----&quot; # GitLab<span style=\"font-family:Malgun Gothic\">&#xC758;</span> Settings &gt; CI/CD<span style=\"font-family:Malgun Gothic\">&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xB4E4;&#xC5B4;&#xAC00;&#xC11C;</span> Variables<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xB2E4;&#xAC00;</span> <span style=\"font-family:Malgun Gothic\">&#xC815;&#xC758;</span> <span style=\"font-family:Malgun Gothic\">&#xD574;</span> <span style=\"font-family:Malgun Gothic\">&#xB193;&#xACE0;</span> ${<span style=\"font-family:Malgun Gothic\">&#xBCC0;&#xC218;&#xBA85;</span>} <span style=\"font-family:Malgun Gothic\">&#xC73C;&#xB85C;</span> <span style=\"font-family:Malgun Gothic\">&#xAC00;&#xC838;&#xB2E4;</span> <span style=\"font-family:Malgun Gothic\">&#xC368;&#xB3C4;</span> <span style=\"font-family:Malgun Gothic\">&#xB41C;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    AWS_SECRET_ACCESS_KEY: &quot;-----&quot;</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    S3_BUCKET_NAME: &quot;S3<span style=\"font-family:Malgun Gothic\">&#xBC84;&#xD0B7;&#xBA85;</span>&quot;</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # This folder is cached between builds</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # <a href=\"http://docs.gitlab.com/ce/ci/yaml/README.html#cache\">http://docs.gitlab.com/ce/ci/yaml/README.html#cache</a></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  cache:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    paths:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">      - node_modules/</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  before_script:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    # GitLab<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xD3D0;&#xC1E0;&#xC801;&#xC73C;&#xB85C;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xD558;&#xB294;</span> Container Registry<span style=\"font-family:Malgun Gothic\">&#xB85C;</span> <span style=\"font-family:Malgun Gothic\">&#xC778;&#xC99D;&#xD574;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xB0B4;&#xAC00;</span> <span style=\"font-family:Malgun Gothic\">&#xB9CC;&#xB4E0;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xD558;&#xAE30;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    - docker login -u gitlab-ci-token -p $CI_BUILD_TOKEN $CI_REGISTRY</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  build_aws_case2:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    only:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">      - geoseong</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    script:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">      - docker build -t registry.gitlab.com/ideasam/mom:0.1 . # GitLab Registry<span style=\"font-family:Malgun Gothic\">&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xB4E4;&#xC5B4;&#xAC00;&#xBA74;</span> -t<span style=\"font-family:Malgun Gothic\">&#xC758;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xB984;&#xC744;</span> <span style=\"font-family:Malgun Gothic\">&#xBCF4;&#xC5EC;&#xC900;&#xB2E4;</span>. <span style=\"font-family:Malgun Gothic\">&#xD0DC;&#xADF8;&#xBA85;&#xC740;</span> <span style=\"font-family:Malgun Gothic\">&#xC54C;&#xC544;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xB124;&#xC774;&#xBC0D;&#xD558;&#xB3C4;&#xB85D;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">      - docker push registry.gitlab.com/ideasam/mom:0.1</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"># GitLab CI<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xB4F1;&#xB85D;&#xD55C;</span> Registry <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xD558;&#xAE30;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- <span style=\"font-family:Malgun Gothic\">&#xBC14;&#xB85C;</span> <span style=\"font-family:Malgun Gothic\">&#xC704;&#xC5D0;&#xC11C;</span> <span style=\"font-family:Malgun Gothic\">&#xB9CC;&#xB4E0;</span> `registry.gitlab.com/ideasam/mom:0.1` <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;&#xB97C;</span> `.gitlab-ci.yml`<span style=\"font-family:Malgun Gothic\">&#xC758;</span> **image** <span style=\"font-family:Malgun Gothic\">&#xBB38;&#xBC95;&#xC73C;&#xB85C;</span> <span style=\"font-family:Malgun Gothic\">&#xBD88;&#xB7EC;&#xC62C;</span> <span style=\"font-family:Malgun Gothic\">&#xC218;</span> <span style=\"font-family:Malgun Gothic\">&#xC788;&#xB2E4;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- <span style=\"font-family:Malgun Gothic\">&#xC774;&#xB807;&#xAC8C;</span> custom<span style=\"font-family:Malgun Gothic\">&#xD558;&#xAC8C;</span> <span style=\"font-family:Malgun Gothic\">&#xB0B4;&#xAC00;</span> <span style=\"font-family:Malgun Gothic\">&#xD544;&#xC694;&#xD55C;</span> <span style=\"font-family:Malgun Gothic\">&#xD328;&#xD0A4;&#xC9C0;&#xB4E4;&#xC774;</span> <span style=\"font-family:Malgun Gothic\">&#xB2E4;</span> <span style=\"font-family:Malgun Gothic\">&#xAE54;&#xB824;&#xC788;&#xB294;</span> <span style=\"font-family:Malgun Gothic\">&#xC774;&#xBBF8;&#xC9C0;&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xD558;&#xBA74;</span>, <span style=\"font-family:Malgun Gothic\">&#xD328;&#xD0A4;&#xC9C0;</span> <span style=\"font-family:Malgun Gothic\">&#xC124;&#xCE58;&#xC2DC;&#xAC04;&#xC758;</span> <span style=\"font-family:Malgun Gothic\">&#xB2E8;&#xCD95;&#xC758;</span> <span style=\"font-family:Malgun Gothic\">&#xD6A8;&#xACFC;&#xB97C;</span> <span style=\"font-family:Malgun Gothic\">&#xBCFC;</span> <span style=\"font-family:Malgun Gothic\">&#xC218;</span> <span style=\"font-family:Malgun Gothic\">&#xC788;&#xB2E4;</span>.</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- <span style=\"font-family:Malgun Gothic\">&#xC608;&#xC81C;</span> **`.gitlab-ci.yml`**</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  image: registry.gitlab.com/ideasam/mom:0.1</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  variables:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    AWS_ACCESS_KEY_ID: &quot;AKIAJLN3M2OPJJPCNPTQ&quot;</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    AWS_SECRET_ACCESS_KEY: &quot;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&quot;</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    S3_BUCKET_NAME: &quot;geoseong-private&quot;</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # This folder is cached between builds</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  # <a href=\"http://docs.gitlab.com/ce/ci/yaml/README.html#cache\">http://docs.gitlab.com/ce/ci/yaml/README.html#cache</a></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  cache:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    paths:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">      - node_modules/</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  build_aws_case2:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  only:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    - geoseong</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  script:</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    - npm install</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    - aws s3 cp --recursive src/ s3://$S3_BUCKET_NAME --acl public-read</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  ```</p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"># cache<span style=\"font-family:Malgun Gothic\">&#xC758;</span> <span style=\"font-family:Malgun Gothic\">&#xC4F0;&#xC784;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- <span style=\"font-family:Malgun Gothic\">&#xC54C;&#xC544;&#xB0B4;&#xC57C;</span> <span style=\"font-family:Malgun Gothic\">&#xD568;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  - [ ] cache<span style=\"font-family:Malgun Gothic\">&#xC758;</span> <span style=\"font-family:Malgun Gothic\">&#xC4F0;&#xC784;</span> <span style=\"font-family:Malgun Gothic\">&#xC54C;&#xC544;&#xB0B4;&#xAE30;</span></p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"># <span style=\"font-family:Malgun Gothic\">&#xAE30;&#xD0C0;</span> GitLab CI<span style=\"font-family:Malgun Gothic\">&#xC758;</span> <span style=\"font-family:Malgun Gothic\">&#xC4F0;&#xC784;&#xC5D0;</span> <span style=\"font-family:Malgun Gothic\">&#xB300;&#xD55C;</span> <span style=\"font-family:Malgun Gothic\">&#xACF5;&#xC2DD;&#xBB38;&#xC11C;</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">- [INDEX](https://docs.gitlab.com/ce/ci/README.html)</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  - [Configuration of your jobs with .gitlab-ci.yml](https://docs.gitlab.com/ce/ci/yaml/README.html)</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">  - [Getting started with GitLab CI/CD](https://docs.gitlab.com/ce/ci/quick_start/README.html)</p>\n\t\t</div>\n\t\n\n"}}}