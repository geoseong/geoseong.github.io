{"pageContext":{"notebook":"Database","section":"mongoDB","page":{"id":"0-a505acefaae3b1498df72f171a18cb50!1-BC575AB8E2AB9833!2166","self":"https://www.onenote.com/api/v1.0/me/notes/pages/0-a505acefaae3b1498df72f171a18cb50!1-BC575AB8E2AB9833!2166","createdTime":"2018-02-04T11:11:39.902Z","title":"db.serverStatus() 권한설정 : clusterMonitor","createdByAppId":"","links":{"oneNoteEmbedUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2160&parId=BC575AB8E2AB9833!109&wd=target%28mongoDB.one%7C274f6f60-9b2c-084b-8214-51539d991fda%2Fdb.serverStatus%28%5C%29%20%EA%B6%8C%ED%95%9C%EC%84%A4%EC%A0%95%20%20clusterMonitor%7Cd668beb1-02b1-9747-9196-164fea30e4b9%2F%29"},"oneNoteClientUrl":{"href":"onenote:https://d.docs.live.net/bc575ab8e2ab9833/Documents/Database/mongoDB.one#db.serverStatus%28%29%20%EA%B6%8C%ED%95%9C%EC%84%A4%EC%A0%95%20%20clusterMonitor&section-id=274f6f60-9b2c-084b-8214-51539d991fda&page-id=d668beb1-02b1-9747-9196-164fea30e4b9&end"},"oneNoteWebUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2160&parId=BC575AB8E2AB9833!109&wd=target%28mongoDB.one%7C274f6f60-9b2c-084b-8214-51539d991fda%2Fdb.serverStatus%28%5C%29%20%EA%B6%8C%ED%95%9C%EC%84%A4%EC%A0%95%20%20clusterMonitor%7Cd668beb1-02b1-9747-9196-164fea30e4b9%2F%29"}},"contentUrl":"https://www.onenote.com/api/v1.0/me/notes/pages/0-a505acefaae3b1498df72f171a18cb50!1-BC575AB8E2AB9833!2166/content","lastModifiedTime":"2018-02-04T11:19:31Z","parentSection@odata.context":"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections('0-BC575AB8E2AB9833%212166')/pages('0-a505acefaae3b1498df72f171a18cb50%211-BC575AB8E2AB9833%212166')/parentSection(id,name,self)/$entity","parentSection":{"id":"0-BC575AB8E2AB9833!2166","name":"mongoDB","self":"https://www.onenote.com/api/v1.0/me/notes/sections/0-BC575AB8E2AB9833!2166"},"content":"       커맨드에서 Admin 으로접속    $ mongo --port 27017 -u admin -p 1234 --authenticationDatabase admin        Db리스트가 쫙 나오면 admin잘 접속한 것.    > show dbs        Admin계정이 있는 데이터베이스 접속해서 유저의 권한을 본다.    > use admin    switched to db admin    > show users    {    \"_id\" : \"admin.admin\",    \"user\" : \"admin\",    \"db\" : \"admin\",    \"roles\" :     [    {    \"role\" : \"readWrite\",    \"db\" : \"admin\"    },    {    \"role\" : \"userAdminAnyDatabase\",    \"db\" : \"admin\"    }    ]    }        'clusterMonitor' role을 부여한다. - db.grantRolesToUser(\"유저명\", [{role: … }])    > db.grantRolesToUser('admin', [{role: 'clusterMonitor', db:'admin'}] )        권한이 잘 들어갔나 확인한다.    > show users    {    \"_id\" : \"admin.admin\",    \"user\" : \"admin\",    \"db\" : \"admin\",    \"roles\" :     [    {    \"role\" : \"clusterMonitor\",    \"db\" : \"admin\"    },    {    \"role\" : \"readWrite\",    \"db\" : \"admin\"    },    {    \"role\" : \"userAdminAnyDatabase\",    \"db\" : \"admin\"    }    ]    }           ","html":"\n\t\t<div style=\"position:absolute;left:48px;top:131px;width:576px\">\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xCEE4;&#xB9E8;&#xB4DC;&#xC5D0;&#xC11C;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span>Admin <span style=\"font-family:Malgun Gothic\">&#xC73C;&#xB85C;&#xC811;&#xC18D;</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">$ mongo --port 27017 -u admin -p 1234 --authenticationDatabase admin</span></p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">Db</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB9AC;&#xC2A4;&#xD2B8;&#xAC00;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xCAD9;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB098;&#xC624;&#xBA74;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">a</span><span style=\"font-family:Malgun Gothic\">dmin</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC798;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC811;&#xC18D;&#xD55C;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xAC83;</span><span style=\"font-family:Malgun Gothic\">.</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; show dbs</span></p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">Admin<span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xACC4;&#xC815;&#xC774;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC788;&#xB294;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB370;&#xC774;&#xD130;&#xBCA0;&#xC774;&#xC2A4;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC811;&#xC18D;&#xD574;&#xC11C;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC720;&#xC800;&#xC758;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xAD8C;&#xD55C;&#xC744;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xBCF8;&#xB2E4;</span><span style=\"font-family:Malgun Gothic\">.</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; use admin</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">switched to db admin</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; show users</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;_id&quot; : &quot;admin.admin&quot;,</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;user&quot; : &quot;admin&quot;,</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;,</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;roles&quot; : </span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">[</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;role&quot; : &quot;readWrite&quot;,</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">},</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;role&quot; : &quot;userAdminAnyDatabase&quot;,</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">]</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&apos;clusterMonitor&apos; role</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC744;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xBD80;&#xC5EC;&#xD55C;&#xB2E4;</span><span style=\"font-family:Malgun Gothic\">. - db.grantRolesToUser(&quot;</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC720;&#xC800;&#xBA85;</span><span style=\"font-family:Malgun Gothic\">&quot;, [{role: &#x2026; }])</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; db.grantRolesToUser(&apos;admin&apos;, [{role: &apos;clusterMonitor&apos;, db:&apos;admin&apos;}] )</span></p>\n\t\t\t<br>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xAD8C;&#xD55C;&#xC774;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC798;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xB4E4;&#xC5B4;&#xAC14;&#xB098;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xD655;&#xC778;&#xD55C;&#xB2E4;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\">.</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&gt; show users</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;_id&quot; : &quot;admin.admin&quot;,</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;user&quot; : &quot;admin&quot;,</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;,</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;roles&quot; : </span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">[</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;role&quot; : &quot;clusterMonitor&quot;,</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">},</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;role&quot; : &quot;readWrite&quot;,</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">},</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">{</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;role&quot; : &quot;userAdminAnyDatabase&quot;,</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">&quot;db&quot; : &quot;admin&quot;</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">]</span></p>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Monaco;font-size:9pt;color:white;background-color:#282a36\">}</span></p>\n\t\t\t<br>\n\t\t</div>\n\t\n\n"}}}