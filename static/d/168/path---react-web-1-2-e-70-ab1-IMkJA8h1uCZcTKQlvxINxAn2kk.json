{"pageContext":{"isCreatedByStatefulCreatePages":false,"notebook":"React-web","section":"next.js","page":{"id":"0-d33a40e74f29f449bab76ba0d7283809!1-BC575AB8E2AB9833!2145","self":"https://www.onenote.com/api/v1.0/me/notes/pages/0-d33a40e74f29f449bab76ba0d7283809!1-BC575AB8E2AB9833!2145","createdTime":"2019-06-02T07:39:08.712Z","title":"Next.js: Cannot find module 'core-js/library/fn/object/define-property'","createdByAppId":"","links":{"oneNoteEmbedUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2142&parId=BC575AB8E2AB9833!109&wd=target%28next.js.one%7C8a5cdc99-ef64-de4f-9aee-92deaf953645%2FNext.js%20Cannot%20find%20module%20%27core-%7C80a761b5-d0eb-4b4d-8990-aee9eb2e82f4%2F%29"},"oneNoteClientUrl":{"href":"onenote:https://d.docs.live.net/bc575ab8e2ab9833/Documents/React-web/next.js.one#Next.js%20Cannot%20find%20module%20%27core-&section-id=8a5cdc99-ef64-de4f-9aee-92deaf953645&page-id=80a761b5-d0eb-4b4d-8990-aee9eb2e82f4&end"},"oneNoteWebUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2142&parId=BC575AB8E2AB9833!109&wd=target%28next.js.one%7C8a5cdc99-ef64-de4f-9aee-92deaf953645%2FNext.js%20Cannot%20find%20module%20%27core-%7C80a761b5-d0eb-4b4d-8990-aee9eb2e82f4%2F%29"}},"contentUrl":"https://www.onenote.com/api/v1.0/me/notes/pages/0-d33a40e74f29f449bab76ba0d7283809!1-BC575AB8E2AB9833!2145/content","lastModifiedTime":"2019-06-02T07:47:01Z","parentSection@odata.context":"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections('0-BC575AB8E2AB9833%212145')/pages('0-d33a40e74f29f449bab76ba0d7283809%211-BC575AB8E2AB9833%212145')/parentSection(id,name,self)/$entity","parentSection":{"id":"0-BC575AB8E2AB9833!2145","name":"next.js","self":"https://www.onenote.com/api/v1.0/me/notes/sections/0-BC575AB8E2AB9833!2145"},"content":"       한마디    Use yarn! Don't use npm!        Environment         Next.js 8.1.0           No serverless mode               AWS Lambda & Lambda Layer & API Gateway           Koa.js                            에러                      Cannot find module 'core-js/library/fn/object/define-property'                Lambda & API Gateway환경에 업로드 하였을 때에만 이런 에러가 나옴     로컬에서 테스트 할 때에는 이런 문제 전혀 안 나옴            시도         Core-js를 직접 설치 시도 해 봄￼$ npm i core-js     Node_modules 폴더와 package-lock.json을 지우고 모든 dependency를 재설치 해봄￼$ rm -rf node_modules && rm package-lock.json && npm install                 해결책         시도한 것들 중에 core-js를 직접 설치했으니, 원복하기 위해서 (package.json의 dependency에 core-js를 없애기 위해) core-js 제거￼$ npm uninstall core-js     Node_modules 폴더와 package-lock.json을 지우고 모든 dependency를 재설치 를 yarn을 통하여 진행.￼$ rm -rf node_modules && rm package-lock.json && yarn install     Lambda & API Gateway환경에서 정상 작동함 어이엄슴..                 원인         /opt/node_modules/core-js의 폴더 구조가 npm으로 설치했을 때와 yarn으로 설치했을 때가 다르다     Yarn으로 설치했을 때의 폴더구조가 next.js 프로젝트에서 원하던 폴더구조였던 것 같다.           ","html":"\n\t\t<div style=\"position:absolute;left:67px;top:166px;width:557px\">\n\t\t\t<h2 lang=\"ko-KR\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xD55C;&#xB9C8;&#xB514;</span></h2>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic;font-weight:bold\">Use yarn! Don&apos;t use npm!</span></p>\n\t\t\t<br>\n\t\t\t<h2 style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">Environment</h2>\n\t\t\t<ul>\n\t\t\t\t<li><p style=\"margin-top:0pt;margin-bottom:0pt\">Next.js 8.1.0</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li style=\"list-style-type:circle\">No serverless mode</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li><p style=\"margin-top:0pt;margin-bottom:0pt\">AWS Lambda &amp; Lambda Layer &amp; API Gateway</p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li style=\"list-style-type:circle\">Koa.js</li>\n\t\t\t\t\t<br>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<br>\n\t\t\t<h2 lang=\"ko-KR\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xB7EC;</span></h2>\n\t\t\t<ul>\n\t\t\t\t<table style=\"border:1px solid;border-collapse:collapse\">\n\t\t\t\t\t<tbody><tr>\n\t\t\t\t\t\t<td style=\"border:1px solid\"><span lang=\"ko-KR\"><span style=\"font-family:Malgun Gothic\">Cannot find module &apos;core-js/library/fn/object/define-property&apos;</span></span></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t\t<li><span style=\"font-family:Malgun Gothic\">Lambda &amp; API Gateway</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD658;&#xACBD;&#xC5D0;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC5C5;&#xB85C;&#xB4DC;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD558;&#xC600;&#xC744;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB54C;&#xC5D0;&#xB9CC;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC774;&#xB7F0;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC5D0;&#xB7EC;&#xAC00;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB098;&#xC634;</span></li>\n\t\t\t\t<li><span lang=\"ko-KR\"><span style=\"font-family:Malgun Gothic\">&#xB85C;&#xCEEC;&#xC5D0;&#xC11C;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xD14C;&#xC2A4;&#xD2B8;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xD560;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xB54C;&#xC5D0;&#xB294;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC774;&#xB7F0;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xBB38;&#xC81C;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC804;&#xD600;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC548;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xB098;&#xC634;</span></span></li>\n\t\t\t</ul>\n\t\t\t<br>\n\t\t\t<h2 lang=\"ko-KR\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xC2DC;&#xB3C4;</span></h2>\n\t\t\t<ul>\n\t\t\t\t<li><span style=\"font-family:Malgun Gothic\">Core-js</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB97C;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC9C1;&#xC811;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC124;&#xCE58;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC2DC;&#xB3C4;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD574;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xBD04;</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic\">$ npm i core-js</span></li>\n\t\t\t\t<li><span style=\"font-family:Malgun Gothic\">Node_modules </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD3F4;&#xB354;&#xC640;</span><span style=\"font-family:Malgun Gothic\"> package-lock.json</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC744;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC9C0;&#xC6B0;&#xACE0;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xBAA8;&#xB4E0;</span><span style=\"font-family:Malgun Gothic\"> dependency</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB97C;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC7AC;&#xC124;&#xCE58;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD574;&#xBD04;</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic\">$ rm -rf node_modules &amp;&amp; rm package-lock.json &amp;&amp; npm install</span></li>\n\t\t\t\t<br>\n\t\t\t</ul>\n\t\t\t<br>\n\t\t\t<h2 lang=\"ko-KR\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xD574;&#xACB0;&#xCC45;</span></h2>\n\t\t\t<ul>\n\t\t\t\t<li><span lang=\"ko-KR\"><span style=\"font-family:Malgun Gothic\">&#xC2DC;&#xB3C4;&#xD55C;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xAC83;&#xB4E4;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC911;&#xC5D0;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> core-js</span><span style=\"font-family:Malgun Gothic\">&#xB97C;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC9C1;&#xC811;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC124;&#xCE58;&#xD588;&#xC73C;&#xB2C8;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\">, </span><span style=\"font-family:Malgun Gothic\">&#xC6D0;&#xBCF5;&#xD558;&#xAE30;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC704;&#xD574;&#xC11C;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> (</span><span lang=\"en-US\">package.json</span><span style=\"font-family:Malgun Gothic\">&#xC758;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> dependency</span><span style=\"font-family:Malgun Gothic\">&#xC5D0;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> core-js</span><span style=\"font-family:Malgun Gothic\">&#xB97C;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC5C6;&#xC560;&#xAE30;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC704;&#xD574;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\">) core-js </span><span style=\"font-family:Malgun Gothic\">&#xC81C;&#xAC70;</span><span style=\"font-family:Malgun Gothic\">&#xFFFC;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\">$ npm uninstall core-js</span></span></li>\n\t\t\t\t<li><span style=\"font-family:Malgun Gothic\">Node_modules </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD3F4;&#xB354;&#xC640;</span><span style=\"font-family:Malgun Gothic\"> package-lock.json</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC744;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC9C0;&#xC6B0;&#xACE0;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xBAA8;&#xB4E0;</span><span style=\"font-family:Malgun Gothic\"> dependency</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB97C;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC7AC;&#xC124;&#xCE58;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB97C;</span><span style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic;background-color:silver;font-weight:bold\">yarn</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC744;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD1B5;&#xD558;&#xC5EC;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC9C4;&#xD589;</span><span style=\"font-family:Malgun Gothic\">.</span><span style=\"font-family:Malgun Gothic\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic\">$ rm -rf node_modules &amp;&amp; rm package-lock.json &amp;&amp; yarn install</span></li>\n\t\t\t\t<li><span style=\"font-family:Malgun Gothic\">Lambda &amp; API Gateway</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD658;&#xACBD;&#xC5D0;&#xC11C;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC815;&#xC0C1;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC791;&#xB3D9;&#xD568;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC5B4;&#xC774;&#xC5C4;&#xC2B4;</span><span style=\"font-family:Malgun Gothic\">..</span></li>\n\t\t\t\t<br>\n\t\t\t</ul>\n\t\t\t<br>\n\t\t\t<h2 lang=\"ko-KR\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xC6D0;</span><span style=\"font-family:Malgun Gothic\">&#xC778;</span></h2>\n\t\t\t<ul>\n\t\t\t\t<li><span style=\"font-family:Malgun Gothic\">/opt/node_modules/core-js</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC758;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD3F4;&#xB354;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xAD6C;&#xC870;&#xAC00;</span><span style=\"font-family:Malgun Gothic\"> npm</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC73C;&#xB85C;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC124;&#xCE58;&#xD588;&#xC744;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB54C;&#xC640;</span><span style=\"font-family:Malgun Gothic\"> yarn</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC73C;&#xB85C;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC124;&#xCE58;&#xD588;&#xC744;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB54C;&#xAC00;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB2E4;&#xB974;&#xB2E4;</span></li>\n\t\t\t\t<li><span style=\"font-family:Malgun Gothic\">Yarn</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC73C;&#xB85C;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC124;&#xCE58;&#xD588;&#xC744;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB54C;&#xC758;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD3F4;&#xB354;&#xAD6C;&#xC870;&#xAC00;</span><span style=\"font-family:Malgun Gothic\"> next.js </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD504;&#xB85C;&#xC81D;&#xD2B8;&#xC5D0;&#xC11C;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC6D0;&#xD558;&#xB358;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD3F4;&#xB354;&#xAD6C;&#xC870;&#xC600;&#xB358;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xAC83;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xAC19;&#xB2E4;</span><span style=\"font-family:Malgun Gothic\">.</span></li>\n\t\t\t</ul>\n\t\t</div>\n\t\n\n"}}}