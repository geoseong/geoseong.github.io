{"pageContext":{"notebook":"Dev","section":"Cross Domain","page":{"id":"0-abb28634208a7540a3af0e0074b2ce7a!1-BC575AB8E2AB9833!1960","self":"https://www.onenote.com/api/v1.0/me/notes/pages/0-abb28634208a7540a3af0e0074b2ce7a!1-BC575AB8E2AB9833!1960","createdTime":"2017-06-15T15:09:07.792Z","title":"크로스 도메인 요청 하기 (CORS)","createdByAppId":"","links":{"oneNoteEmbedUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!1937&parId=BC575AB8E2AB9833!109&wd=target%28Cross%20Domain.one%7C8414d8c1-a3cf-da4e-b48d-b936ca2fc30b%2F%ED%81%AC%EB%A1%9C%EC%8A%A4%20%EB%8F%84%EB%A9%94%EC%9D%B8%20%EC%9A%94%EC%B2%AD%20%ED%95%98%EA%B8%B0%20%28CORS%5C%29%7C374d4b7f-c366-2140-a97f-e901d462237d%2F%29"},"oneNoteClientUrl":{"href":"onenote:https://d.docs.live.net/bc575ab8e2ab9833/Documents/Dev/Cross%20Domain.one#%ED%81%AC%EB%A1%9C%EC%8A%A4%20%EB%8F%84%EB%A9%94%EC%9D%B8%20%EC%9A%94%EC%B2%AD%20%ED%95%98%EA%B8%B0%20%28CORS%29&section-id=8414d8c1-a3cf-da4e-b48d-b936ca2fc30b&page-id=374d4b7f-c366-2140-a97f-e901d462237d&end"},"oneNoteWebUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!1937&parId=BC575AB8E2AB9833!109&wd=target%28Cross%20Domain.one%7C8414d8c1-a3cf-da4e-b48d-b936ca2fc30b%2F%ED%81%AC%EB%A1%9C%EC%8A%A4%20%EB%8F%84%EB%A9%94%EC%9D%B8%20%EC%9A%94%EC%B2%AD%20%ED%95%98%EA%B8%B0%20%28CORS%5C%29%7C374d4b7f-c366-2140-a97f-e901d462237d%2F%29"}},"contentUrl":"https://www.onenote.com/api/v1.0/me/notes/pages/0-abb28634208a7540a3af0e0074b2ce7a!1-BC575AB8E2AB9833!1960/content","lastModifiedTime":"2017-10-20T06:07:49Z","parentSection@odata.context":"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections('0-BC575AB8E2AB9833%211960')/pages('0-abb28634208a7540a3af0e0074b2ce7a%211-BC575AB8E2AB9833%211960')/parentSection(id,name,self)/$entity","parentSection":{"id":"0-BC575AB8E2AB9833!1960","name":"Cross Domain","self":"https://www.onenote.com/api/v1.0/me/notes/sections/0-BC575AB8E2AB9833!1960"},"content":"       javascript ajax 크로스 도메인 요청 하기 (CORS)    출처: http://adrenal.tistory.com/16 [시나몬 브레드]             에러메시지 : ￼XMLHttpRequest cannot load http://localhost:8080/. No 'Access-Control-Allow-Origin'. header is present on the requested resource. Origin 'null' is therefore not allowed access.     원인:           요청 url이 ip주소형태면 상기와 같은 에러를 띄움 'http://localhost:8080/'      일반 도메인주소는 에러뜨지 않음               해결법:           $.ajax dataType : 'JSONP'       Node.js에서 res.send할때 아래와 같이 보낸다.             res.send(req.query.callback + '('+ JSON.stringify(data) + ');'); // JSONP                  그러나 어떤 메소드로 요청해도 'GET' 메소드로만 작동된다.                     해결법2:           http://cmlatte.com/cmlatte/blog/2015/01/14/node-js-cors%ED%81%AC%EB%A1%9C%EC%8A%A4-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%97%90%EC%84%9C%EC%9D%98-ajax-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0%EB%B2%95/      Cors node.js 라이브러리를 import해서 사용.                    해결법3: node.js                // CORS : Cross Origin Resource Sharing    // 보안 상의 이유로, 브라우저들은 스크립트 내에서 초기화되는 cross-origin HTTP 요청을 제한하는데, 이를 수정하는 로직.    app.use(function(req, res, next) {        res.header(\"Access-Control-Allow-Origin\", \"*\");        res.header(\"Access-Control-Allow-Headers\", 'Content-Type, Authorization, Content-Length, X-Requested-With');        res.header(\"Access-Control-Allow-Methods\", \"PUT, POST, GET, OPTIONS, DELETE\");        next();    });           ","html":"\n\t\t<div style=\"position:absolute;left:48px;top:139px;width:576px\">\n\t\t\t<h1 style=\"font-size:16pt;color:#1e4e79;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-weight:bold\">javascript ajax &#xD06C;&#xB85C;&#xC2A4; &#xB3C4;&#xBA54;&#xC778; &#xC694;&#xCCAD; &#xD558;&#xAE30; (CORS)</span></h1>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">&#xCD9C;&#xCC98;:<span lang=\"en-US\">&#xA0;</span><a href=\"http://adrenal.tistory.com/16\" lang=\"en-US\" style=\"font-family:Noto Sans Korean;font-size:15pt;background-color:white\">http://adrenal.tistory.com/16</a><span lang=\"en-US\">&#xA0;[</span><span lang=\"en-US\">&#xC2DC;&#xB098;&#xBAAC; &#xBE0C;&#xB808;&#xB4DC;]</span></p>\n\t\t\t<br>\n\t\t\t<ul>\n\t\t\t\t<li>&#xC5D0;&#xB7EC;&#xBA54;&#xC2DC;&#xC9C0;<span lang=\"en-US\"> : </span><span lang=\"en-US\">&#xFFFC;</span><span lang=\"en-US\">XMLHttpRequest cannot load </span><a href=\"http://localhost:8080/\" lang=\"en-US\">http://localhost:8080/</a><span lang=\"en-US\">. No &apos;Access-Control-Allow-Origin&apos;. header is present on the requested resource. Origin &apos;null&apos; is therefore not allowed access.</span></li>\n\t\t\t\t<li><p style=\"margin-top:0pt;margin-bottom:0pt\">&#xC6D0;&#xC778;<span lang=\"en-US\">:</span></p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li style=\"list-style-type:circle\">&#xC694;&#xCCAD;<span lang=\"en-US\"> </span>url&#xC774;<span lang=\"en-US\"> ip</span>&#xC8FC;&#xC18C;&#xD615;&#xD0DC;&#xBA74;<span lang=\"en-US\"> </span>&#xC0C1;&#xAE30;&#xC640;<span lang=\"en-US\"> </span>&#xAC19;&#xC740;<span lang=\"en-US\"> </span>&#xC5D0;&#xB7EC;&#xB97C;<span lang=\"en-US\"> </span>&#xB744;&#xC6C0; &apos;<a href=\"http://localhost:8080/\">http://localhost:8080/</a>&apos;</li>\n\t\t\t\t\t<li style=\"list-style-type:circle\">&#xC77C;&#xBC18;<span lang=\"en-US\"> </span>&#xB3C4;&#xBA54;&#xC778;&#xC8FC;&#xC18C;&#xB294;<span lang=\"en-US\"> </span>&#xC5D0;&#xB7EC;&#xB728;&#xC9C0;<span lang=\"en-US\"> </span>&#xC54A;&#xC74C;</li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li><p style=\"margin-top:0pt;margin-bottom:0pt\">&#xD574;&#xACB0;&#xBC95;<span lang=\"en-US\">:</span></p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li style=\"list-style-type:circle\"><span lang=\"en-US\">$.ajax <span lang=\"ko-KR\">dataType : &apos;JSONP&apos;</span> </span></li>\n\t\t\t\t\t<li style=\"list-style-type:circle\"><p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\">Node.js<span lang=\"ko-KR\">&#xC5D0;&#xC11C;</span> res.send<span lang=\"ko-KR\">&#xD560;&#xB54C;</span> <span lang=\"ko-KR\">&#xC544;&#xB798;&#xC640;</span> <span lang=\"ko-KR\">&#xAC19;&#xC774;</span> <span lang=\"ko-KR\">&#xBCF4;&#xB0B8;&#xB2E4;</span>.</p>\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t<li>res.send(req.query.callback + &apos;(&apos;+ JSON.stringify(data) + &apos;);&apos;); // JSONP</li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t</li>\n\t\t\t\t\t<li style=\"list-style-type:circle\">&#xADF8;&#xB7EC;&#xB098;<span lang=\"en-US\"> </span>&#xC5B4;&#xB5A4;<span lang=\"en-US\"> </span>&#xBA54;&#xC18C;&#xB4DC;&#xB85C;<span lang=\"en-US\"> </span>&#xC694;&#xCCAD;&#xD574;&#xB3C4;<span lang=\"en-US\"> &apos;GET&apos; </span>&#xBA54;&#xC18C;&#xB4DC;&#xB85C;&#xB9CC;<span lang=\"en-US\"> </span>&#xC791;&#xB3D9;&#xB41C;&#xB2E4;<span lang=\"en-US\">.</span></li>\n\t\t\t\t\t<br>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<li><p style=\"margin-top:0pt;margin-bottom:0pt\">&#xD574;&#xACB0;&#xBC95;<span lang=\"en-US\">2:</span></p>\n\t\t\t\t<ul>\n\t\t\t\t\t<li style=\"list-style-type:circle\"><a href=\"http://cmlatte.com/cmlatte/blog/2015/01/14/node-js-cors%ED%81%AC%EB%A1%9C%EC%8A%A4-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%97%90%EC%84%9C%EC%9D%98-ajax-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0%EB%B2%95/\">http://cmlatte.com/cmlatte/blog/2015/01/14/node-js-cors%ED%81%AC%EB%A1%9C%EC%8A%A4-%EB%8F%84%EB%A9%94%EC%9D%B8-%EC%97%90%EC%84%9C%EC%9D%98-ajax-%EB%AC%B8%EC%A0%9C-%ED%95%B4%EA%B2%B0%EB%B2%95/</a></li>\n\t\t\t\t\t<li style=\"list-style-type:circle\"><span lang=\"en-US\">Cors node.js <span lang=\"ko-KR\">&#xB77C;&#xC774;&#xBE0C;&#xB7EC;&#xB9AC;&#xB97C;</span> import<span lang=\"ko-KR\">&#xD574;&#xC11C;</span> <span lang=\"ko-KR\">&#xC0AC;&#xC6A9;</span>.</span></li>\n\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t\t<br>\n\t\t\t\t<li><span lang=\"en-US\">&#xD574;&#xACB0;&#xBC95;3: node.js</span></li>\n\t\t\t</ul>\n\t\t\t<br>\n\t\t\t<br>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"color:#538135\">// CORS : Cross Origin Resource Sharing</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"color:#538135\">// &#xBCF4;&#xC548; &#xC0C1;&#xC758; &#xC774;&#xC720;&#xB85C;, &#xBE0C;&#xB77C;&#xC6B0;&#xC800;&#xB4E4;&#xC740; &#xC2A4;&#xD06C;&#xB9BD;&#xD2B8; &#xB0B4;&#xC5D0;&#xC11C; &#xCD08;&#xAE30;&#xD654;&#xB418;&#xB294; cross-origin HTTP &#xC694;&#xCCAD;&#xC744; &#xC81C;&#xD55C;&#xD558;&#xB294;&#xB370;, &#xC774;&#xB97C; &#xC218;&#xC815;&#xD558;&#xB294; &#xB85C;&#xC9C1;.</span></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">app.use(function(req, res, next) {</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    res.header(&quot;Access-Control-Allow-Headers&quot;, &apos;Content-Type, Authorization, Content-Length, X-Requested-With&apos;);</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    res.header(&quot;Access-Control-Allow-Methods&quot;, &quot;PUT, POST, GET, OPTIONS, DELETE&quot;);</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">    next();</p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">});</p>\n\t\t\t<br>\n\t\t</div>\n\t\n\n"}}}