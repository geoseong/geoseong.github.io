{"pageContext":{"notebook":"Web Dev","section":"node.js","page":{"id":"0-835b168c44c6aa060f934a48c51444b3!1-BC575AB8E2AB9833!1963","self":"https://www.onenote.com/api/v1.0/me/notes/pages/0-835b168c44c6aa060f934a48c51444b3!1-BC575AB8E2AB9833!1963","createdTime":"2018-05-07T15:34:05.883Z","title":"Package: express-session","createdByAppId":"","links":{"oneNoteEmbedUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!1937&parId=BC575AB8E2AB9833!109&wd=target%28node.js.one%7C1ea34b4b-f4ea-b841-ba6b-444db5441a6a%2FPackage%20express-session%7C063df7d8-811a-0e4b-bafa-deb3d44b6c1c%2F%29"},"oneNoteClientUrl":{"href":"onenote:https://d.docs.live.net/bc575ab8e2ab9833/Documents/Dev/node.js.one#Package%20express-session&section-id=1ea34b4b-f4ea-b841-ba6b-444db5441a6a&page-id=063df7d8-811a-0e4b-bafa-deb3d44b6c1c&end"},"oneNoteWebUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!1937&parId=BC575AB8E2AB9833!109&wd=target%28node.js.one%7C1ea34b4b-f4ea-b841-ba6b-444db5441a6a%2FPackage%20express-session%7C063df7d8-811a-0e4b-bafa-deb3d44b6c1c%2F%29"}},"contentUrl":"https://www.onenote.com/api/v1.0/me/notes/pages/0-835b168c44c6aa060f934a48c51444b3!1-BC575AB8E2AB9833!1963/content","lastModifiedTime":"2018-05-15T07:41:47Z","parentSection@odata.context":"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections('0-BC575AB8E2AB9833%211963')/pages('0-835b168c44c6aa060f934a48c51444b3%211-BC575AB8E2AB9833%211963')/parentSection(id,name,self)/$entity","parentSection":{"id":"0-BC575AB8E2AB9833!1963","name":"node.js","self":"https://www.onenote.com/api/v1.0/me/notes/sections/0-BC575AB8E2AB9833!1963"},"content":"       사용법 블로그    https://velopert.com/406        강좌에서 사용된 코드    https://github.com/velopert/express-tutorial                 Index.js에서 app.use()로다가 express-session객체를 적용시킨다                  var session = require('express-session');￼       app.use(session({￼ secret: '@#@$MYSIGN#@$#$',￼ resave: false,￼ saveUninitialized: true￼}));                       Express-session이 적용된 이후에는 라우팅 함수의 req파라미터에는 session이라는 이름의 객체가 생성되어있을 것이다.     이후 세션변수의 수정과 사용을 한다                  세션 변수 설정       app.get('/login', function(req, res){￼    sess = req.session;￼    sess.username = \"velopert\"￼});       따로 키를 추가해줄 필요 없이 sess.[키 이름]  = 값 으로 세션 변수를 설정 할 수 있습니다.               세션 변수 사용       app.get('/', function(req, res){￼    sess = req.session;￼    console.log(sess.username);￼});                       세션 제거방법                  req.session.destroy(function(err){￼   // cannot access session here￼});                      ","html":"\n\t\t<div style=\"position:absolute;left:48px;top:115px;width:576px\">\n\t\t\t<h2 lang=\"ko-KR\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xBC95;</span><span lang=\"en-US\"> </span><span style=\"font-family:Malgun Gothic\">&#xBE14;&#xB85C;&#xADF8;</span></h2>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><a href=\"https://velopert.com/406\">https://velopert.com/406</a></p>\n\t\t\t<br>\n\t\t\t<h3 lang=\"ko-KR\" style=\"color:#377bac;margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic\">&#xAC15;&#xC88C;&#xC5D0;&#xC11C;</span><span lang=\"en-US\"> </span><span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xB41C;</span><span lang=\"en-US\"> </span><span style=\"font-family:Malgun Gothic\">&#xCF54;&#xB4DC;</span></h3>\n\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><a href=\"https://github.com/velopert/express-tutorial\">https://github.com/velopert/express-tutorial</a></p>\n\t\t\t<br>\n\t\t\t<br>\n\t\t\t<ol>\n\t\t\t\t<li><span lang=\"ko-KR\">Index.js<span style=\"font-family:Malgun Gothic\">&#xC5D0;&#xC11C;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> app.use()</span><span style=\"font-family:Malgun Gothic\">&#xB85C;&#xB2E4;&#xAC00;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> express-session</span><span style=\"font-family:Malgun Gothic\">&#xAC1D;&#xCCB4;&#xB97C;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC801;&#xC6A9;&#xC2DC;&#xD0A8;&#xB2E4;</span></span></li>\n\t\t\t\t<table style=\"border:1px solid;border-collapse:collapse\">\n\t\t\t\t\t<tbody><tr>\n\t\t\t\t\t\t<td style=\"background-color:#f2f2f2;border:1px solid\"><p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic;font-size:10pt\">var session = require(&apos;express-session&apos;);</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span></p>\n\t\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic;font-size:10pt\">app.use(session({</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\"> secret: &apos;@#@$MYSIGN#@$#$&apos;,</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\"> resave: false,</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\"> saveUninitialized: true</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">}));</span></p>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t\t<li><span style=\"font-family:Malgun Gothic\">Express-session</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC774;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC801;&#xC6A9;&#xB41C;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC774;&#xD6C4;&#xC5D0;&#xB294;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xB77C;&#xC6B0;&#xD305;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD568;&#xC218;&#xC758;</span><span style=\"font-family:Malgun Gothic\"> req</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xD30C;&#xB77C;&#xBBF8;&#xD130;&#xC5D0;&#xB294;</span><span style=\"font-family:Malgun Gothic\"> session</span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC774;&#xB77C;&#xB294;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC774;&#xB984;&#xC758;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xAC1D;&#xCCB4;&#xAC00;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xC0DD;&#xC131;&#xB418;&#xC5B4;&#xC788;&#xC744;</span><span style=\"font-family:Malgun Gothic\"> </span><span lang=\"ko-KR\" style=\"font-family:Malgun Gothic\">&#xAC83;&#xC774;&#xB2E4;</span><span style=\"font-family:Malgun Gothic\">.</span></li>\n\t\t\t\t<li><span lang=\"ko-KR\"><span style=\"font-family:Malgun Gothic\">&#xC774;&#xD6C4;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC138;&#xC158;&#xBCC0;&#xC218;&#xC758;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC218;&#xC815;&#xACFC;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC0AC;&#xC6A9;&#xC744;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xD55C;&#xB2E4;</span></span></li>\n\t\t\t\t<table style=\"border:1px solid;border-collapse:collapse\">\n\t\t\t\t\t<tbody><tr>\n\t\t\t\t\t\t<td style=\"background-color:#f2f2f2;border:1px solid\"><p lang=\"ko-KR\" style=\"margin-top:2.2pt;margin-bottom:9.8pt\"><span style=\"font-family:Lato;font-size:10pt;color:#222222;background-color:white;font-weight:bold\">&#xC138;&#xC158; &#xBCC0;&#xC218; &#xC124;&#xC815;</span></p>\n\t\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic;font-size:10pt\">app.get(&apos;/login&apos;, function(req, res){</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">    sess = req.session;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">    sess.username = &quot;velopert&quot;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">});</span></p>\n\t\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:7.5pt\"><span style=\"font-family:Lato;font-size:10pt;color:#222222;background-color:white\">&#xB530;&#xB85C; &#xD0A4;&#xB97C; &#xCD94;&#xAC00;&#xD574;&#xC904; &#xD544;&#xC694; &#xC5C6;&#xC774; sess.[&#xD0A4; &#xC774;&#xB984;] &#xA0;= &#xAC12; &#xC73C;&#xB85C; &#xC138;&#xC158; &#xBCC0;&#xC218;&#xB97C; &#xC124;&#xC815; &#xD560; &#xC218; &#xC788;&#xC2B5;&#xB2C8;&#xB2E4;.</span></p>\n\t\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:7.5pt\"><span style=\"font-family:Lato;font-size:10pt;color:#222222;background-color:white\">&#xA0;</span></p>\n\t\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:2.2pt;margin-bottom:9.8pt\"><span style=\"font-family:inherit;font-size:10pt;color:#222222;background-color:white;font-weight:bold\">&#xC138;&#xC158; &#xBCC0;&#xC218; &#xC0AC;&#xC6A9;</span></p>\n\t\t\t\t\t\t<p lang=\"ko-KR\" style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-family:Malgun Gothic;font-size:10pt\">app.get(&apos;/&apos;, function(req, res){</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">    sess = req.session;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">    console.log(sess.username);</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">});</span></p>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t\t<li><span lang=\"ko-KR\"><span style=\"font-family:Malgun Gothic\">&#xC138;&#xC158;</span><span lang=\"en-US\" style=\"font-family:Malgun Gothic\"> </span><span style=\"font-family:Malgun Gothic\">&#xC81C;&#xAC70;&#xBC29;&#xBC95;</span></span></li>\n\t\t\t\t<table style=\"border:1px solid;border-collapse:collapse\">\n\t\t\t\t\t<tbody><tr>\n\t\t\t\t\t\t<td style=\"background-color:#f2f2f2;border:1px solid\"><span lang=\"ko-KR\"><span style=\"font-family:Malgun Gothic;font-size:10pt\">req.session.destroy(function(err){</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">   // cannot access session here</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">&#xFFFC;</span><span style=\"font-family:Malgun Gothic;font-size:10pt\">});</span></span></td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody></table>\n\t\t\t</ol>\n\t\t</div>\n\t\n\n"}}}