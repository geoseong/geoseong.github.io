{"pageContext":{"notebook":"AWS","section":"AWS Nginx in EC2","page":{"id":"0-86ce013bf676664fb026bf3ca13a1623!1-BC575AB8E2AB9833!2005","self":"https://www.onenote.com/api/v1.0/me/notes/pages/0-86ce013bf676664fb026bf3ca13a1623!1-BC575AB8E2AB9833!2005","createdTime":"2017-08-24T11:41:18Z","title":"[X]Nginx 캐시파일 지우기","createdByAppId":"","links":{"oneNoteEmbedUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2000&parId=BC575AB8E2AB9833!109&wd=target%28AWS%20Nginx%20in%20EC2.one%7C1560ab42-e1d7-c242-98cb-18fa0a5bc7a7%2F%5BX%5DNginx%20%EC%BA%90%EC%8B%9C%ED%8C%8C%EC%9D%BC%20%EC%A7%80%EC%9A%B0%EA%B8%B0%7C77308929-3e07-cc43-ba1c-a639bc993e99%2F%29"},"oneNoteClientUrl":{"href":"onenote:https://d.docs.live.net/bc575ab8e2ab9833/Documents/AWS/AWS%20Nginx%20in%20EC2.one#%5BX%5DNginx%20%EC%BA%90%EC%8B%9C%ED%8C%8C%EC%9D%BC%20%EC%A7%80%EC%9A%B0%EA%B8%B0&section-id=1560ab42-e1d7-c242-98cb-18fa0a5bc7a7&page-id=77308929-3e07-cc43-ba1c-a639bc993e99&end"},"oneNoteWebUrl":{"href":"https://onedrive.live.com/redir.aspx?cid=bc575ab8e2ab9833&page=edit&resid=BC575AB8E2AB9833!2000&parId=BC575AB8E2AB9833!109&wd=target%28AWS%20Nginx%20in%20EC2.one%7C1560ab42-e1d7-c242-98cb-18fa0a5bc7a7%2F%5BX%5DNginx%20%EC%BA%90%EC%8B%9C%ED%8C%8C%EC%9D%BC%20%EC%A7%80%EC%9A%B0%EA%B8%B0%7C77308929-3e07-cc43-ba1c-a639bc993e99%2F%29"}},"contentUrl":"https://www.onenote.com/api/v1.0/me/notes/pages/0-86ce013bf676664fb026bf3ca13a1623!1-BC575AB8E2AB9833!2005/content","lastModifiedTime":"2017-08-25T05:41:05Z","parentSection@odata.context":"https://www.onenote.com/api/v1.0/$metadata#me/notes/sections('0-BC575AB8E2AB9833%212005')/pages('0-86ce013bf676664fb026bf3ca13a1623%211-BC575AB8E2AB9833%212005')/parentSection(id,name,self)/$entity","parentSection":{"id":"0-BC575AB8E2AB9833!2005","name":"AWS Nginx in EC2","self":"https://www.onenote.com/api/v1.0/me/notes/sections/0-BC575AB8E2AB9833!2005"},"content":"       [안먹힘]    Nginx 서비스를 껐다가 켜도 reload를 해도 업로드된 웹페이지 내용이 적용 안된다면..    /etc/nginx/nginx.conf 안에 있는 sendfile옵션이 on으로 되어있다면 off 로 바꿔봐라..                Stackoverflow says…    https://stackoverflow.com/questions/6236078/how-to-clear-the-cache-of-nginx    https://jeremyfelt.com/2013/01/08/clear-nginx-cache-in-vagrant/    Sendfile is used to ‘copy data between one file descriptor and another‘ and apparently has some real trouble when run in a virtual machine environment, or at least when run through Virtualbox.     Turning this config off in nginx causes the static file to be served via a different method and your changes will be reflected immediately and without question           ","html":"\n\t\t<div style=\"position:absolute;left:59px;top:120px;width:631px\">\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\">[&#xC548;&#xBA39;&#xD798;]</p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\">Nginx &#xC11C;&#xBE44;&#xC2A4;&#xB97C; &#xAED0;&#xB2E4;&#xAC00; &#xCF1C;&#xB3C4; reload&#xB97C; &#xD574;&#xB3C4; &#xC5C5;&#xB85C;&#xB4DC;&#xB41C; &#xC6F9;&#xD398;&#xC774;&#xC9C0; &#xB0B4;&#xC6A9;&#xC774; &#xC801;&#xC6A9; &#xC548;&#xB41C;&#xB2E4;&#xBA74;..</p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\">/etc/nginx/nginx.conf &#xC548;&#xC5D0; &#xC788;&#xB294; sendfile&#xC635;&#xC158;&#xC774; on&#xC73C;&#xB85C; &#xB418;&#xC5B4;&#xC788;&#xB2E4;&#xBA74; off &#xB85C; &#xBC14;&#xAFD4;&#xBD10;&#xB77C;..</p>\n\t\t\t<br>\n\t\t\t<img alt=\"http { \nlog_formt \naccess-log \nsendfile \ntcp-rvopush \n&apos; - [Stime_lc \n&apos; Sstatus Sbody_bytes_sent &quot;Shttp_refet \n&apos; &quot;Shttp_user_agent&quot; &quot;Shttp_x_forwa \n/var/log/nginx/access.log min; \non; \non; \non; \" width=\"480\" height=\"194\" src=\"https://www.onenote.com/api/v1.0/me/notes/resources/0-4a08fee5073bdc47b333bbe9beb38f63!1-BC575AB8E2AB9833!2005/content?publicAuth=true&amp;mimeType=image/png\" data-src-type=\"image/png\" data-fullres-src=\"https://www.onenote.com/api/v1.0/me/notes/resources/0-4a08fee5073bdc47b333bbe9beb38f63!1-BC575AB8E2AB9833!2005/content?publicAuth=true&amp;mimeType=image/png\" data-fullres-src-type=\"image/png\">\n\t\t\t<br>\n\t\t\t<h2 lang=\"en-US\" style=\"font-size:14pt;color:#2e75b5;margin-top:0pt;margin-bottom:0pt\">Stackoverflow says&#x2026;</h2>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><a href=\"https://stackoverflow.com/questions/6236078/how-to-clear-the-cache-of-nginx\">https://stackoverflow.com/questions/6236078/how-to-clear-the-cache-of-nginx</a></p>\n\t\t\t<p lang=\"en-US\" style=\"margin-top:0pt;margin-bottom:0pt\"><a href=\"https://jeremyfelt.com/2013/01/08/clear-nginx-cache-in-vagrant/\">https://jeremyfelt.com/2013/01/08/clear-nginx-cache-in-vagrant/</a></p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\"><span style=\"font-weight:bold\">Sendfile</span> is used to &#x2018;copy data between one file descriptor and another&#x2018; and apparently has <span style=\"text-decoration:underline\">some </span><span style=\"font-weight:bold;text-decoration:underline\">real trouble</span><span style=\"text-decoration:underline\"> when run in a virtual machine environment</span>, or at least when run through Virtualbox. </p>\n\t\t\t<p style=\"margin-top:0pt;margin-bottom:0pt\">Turning this config <span style=\"font-weight:bold\">off</span> in nginx causes the static file to be served via a different method and your changes will be reflected immediately and without question</p>\n\t\t\t<br>\n\t\t</div>\n\t\n\n"}}}